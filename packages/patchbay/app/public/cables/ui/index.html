<!doctype html>
<html lang="en-US">
  <head>
    <title>| cables</title>

    <script>
      window.nodeRequire = window.require;

      if (parent !== window) {
        window.addEventListener("hashchange", (event) => {
          parent.postMessage(
            { type: "hashchange", data: window.location.hash },
            "*",
          );
        });
      }
    </script>

    <script type="module" src="js/talkerapi.js"></script>
    <script type="module" src="js/cables-ui-libs.js"></script>

    <meta name="robots" content="noindex, nofollow" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
    />
    <style media="screen">
      body {
        background-color: #282828;
        color: #aaa;
        position: fixed;
        overflow: hidden;
      }
      #loadingstatusBar {
        background-color: #999;
        height: 100%;
        width: 0px;
        margin-bottom: 10px;
        z-index: 10000;
      }
      #loadingstatus {
        position: absolute;
        top: 0px;
        left: 0px;
        height: 4px;
        width: 100%;
        z-index: 10000;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @keyframes scaleout {
        0% {
          transform: scale(0);
          -webkit-transform: scale(0);
        }
        100% {
          transform: scale(1);
          -webkit-transform: scale(1);
          opacity: 0;
        }
      }

      .loading,
      .workingindicator {
        background-color: #aaa;
        animation: scaleout 1s infinite ease-in-out;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        min-width: 40px !important;
        min-height: 40px !important;
        max-width: 40px !important;
        max-height: 40px !important;
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: 20px;
        margin-bottom: 20px;
      }

      .startUpError {
        padding: 30px;
        font-family: monospace;
      }
    </style>
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="css/style-dark.css"
    />
  </head>
  <body>
    <div class="cablesCssUi">
      <div id="loadingstatus">
        <div id="loadingstatusBar"></div>
        <div id="loadingInfo"></div>
        <div class="loading" style="margin-top: 50px"></div>
      </div>
      <div
        id="loadingstatusLog"
        style="font-family: monospace; padding: 30px"
      ></div>
    </div>

    <div
      id="cablescanvas"
      class="bgpatternDark hidden"
      style="width: 640px; height: 300px; right: 0px"
    >
      <canvas id="glcanvas" width="0" height="0"></canvas>
    </div>

    <div class="cablesCssUi">
      <div id="mainContainer" class="hidden cablesCssUi"></div>

      <div id="cmdpalette" class="hidden">
        <div class="input-container">
          <input
            class="medium info"
            id="cmdinput"
            autocomplete="off"
            oninput="gui.cmdPallet.doSearch(this.value);"
            placeholder="search"
            style="width: 85%; float: left"
          />
          <div style="width: 10%; float: left">
            <a class="icon-x icon icon-2x" onclick="gui.cmdPallet.close();"></a>
          </div>
          <div class="clear"></div>
        </div>
        <div id="searchresult_cmd"></div>
      </div>
    </div>
  </body>
</html>

<script id="bookmarks" type="text/x-handlebars-template">
  {{#if bookmarks}}
    <div class="panel" id="bookmarkpanel">
      <h3>Bookmarks</h3>

      {{#each bookmarks}}
        <div class="list">
          <div onclick="gui.bookmarks.goto('{{id}}');">
            <h3 class="op_color_{{class}}">{{name}}</h3>
            {{objName}}
            <a
              class="icon icon-x fright tt"
              data-tt="remove bookmark"
              onclick="gui.bookmarks.remove('{{id}}');"
            ></a>
          </div>
        </div>
      {{/each}}
      <br />
    </div>
  {{/if}}
  <br />
</script>

<div class="cablesCssUi">
  <div id="chat" class="hidden">
    <div class="chat-messages"></div>
    <div class="chat-controls">
      <input
        type="text"
        class="message-input"
        placeholder="type here"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
      />
      <button class="send">Send</button>
    </div>
  </div>
</div>

<script id="clonepatch" type="text/x-handlebars-template">
  <div class="panel list">
    <h3>You do not own this patch</h3>
    You can play around but not overwrite it. But you can clone it:
    <br /><br />
    <a
      class="bluebutton"
      onclick="CABLES.CMD.PATCH.saveAs();"
      style="color:black;"
    >Clone patch</a>
  </div>
</script>

<script id="dialog_createport" type="text/x-handlebars-template">

  <h2>Edit Port</h2>

  <input id="createPortId" value="{{portId}}" class="hidden"/>

  <br/>

  <table class="formtable">
      <tr>
          <td>
              Direction
          </td>
          <td>
              <select id="createPortDir">
                  <option value="0">Input</option>
                  <option value="1" {{#if port.dir}}selected{{/if}}>Output</option>
              </select>
          </td>
      </tr>
      <tr>
          <td>
              Type
          </td>
          <td>
              <select id="createPortType">
                  <option value="Number - Float">Number - Float</option>
                  <option value="Number - Float Slider" {{#compare port.uiDisplay '==' 'range'}}selected{{/compare}}>Number - Float Slider</option>
                  <option value="Number - Integer" {{#compare port.uiDisplay '==' 'int'}}selected{{/compare}}>Number - Integer</option>
                  <option value="Boolean" {{#compare port.uiDisplay '==' 'bool'}}selected{{/compare}}>Boolean</option>
                  <option value="String" {{#compare port.type '==' 5}}selected{{/compare}}>String</option>
                  <option value="String - URL" {{#compare port.uiDisplay '==' 'file'}}selected{{/compare}}>String - URL</option>
                  <option value="String - Editor" {{#compare port.uiDisplay '==' 'editor'}}selected{{/compare}}>String - Editor</option>
                  <option value="String - Switch" {{#compare port.uiDisplay '==' 'switch'}}selected{{/compare}}>String - Switch</option>
                  <option value="String - Dropdown" {{#compare port.uiDisplay '==' 'dropdown'}}selected{{/compare}}>String - Dropdown</option>
                  <option value="Array" {{#compare port.type '==' 3}}selected{{/compare}}>Array</option>
                  <option value="Object" {{#compare port.type '==' 2}}selected{{/compare}}>Object</option>
                  <option value="Object - Texture" {{#compare port.objType '==' 'texture'}}selected{{/compare}}>Object - Texture</option>
                  <option value="Object - Element" {{#compare port.objType '==' 'element'}}selected{{/compare}}>Object - Element</option>
                  <option value="Object - Geometry" {{#compare port.objType '==' 'geometry'}}selected{{/compare}}>Object - Geometry</option>
                  <option value="Object - AudioNode" {{#compare port.objType '==' 'audioNode'}}selected{{/compare}}>Object - AudioNode</option>
                  <option value="Object - Gradient" {{#compare port.objType '==' 'gradient'}}selected{{/compare}}>Object - Gradient</option>
                  <option value="Trigger" {{#compare port.type '==' 1}}selected{{/compare}}>Trigger</option>
                  <option value="Trigger - Button" {{#compare port.uiDisplay '==' 'button'}}selected{{/compare}}>Trigger - Button</option>
              </select>
          </td>
      </tr>
      <tr>
          <td>
              Title
          </td>
          <td>
              <input id="createPortName" value="{{port.title}}"/>
          </td>
      </tr>
      <tr>
          <td>
              Default Value
          </td>
          <td>
              <input id="createPortValue" value="{{port.value}}"/>
          </td>
      </tr>
      <tr>
          <td>
              Switch/Dropdown options (comma seperated)
          </td>
          <td>
              <input id="createPortUiAttrValues" value="{{port.values}}"/>
          </td>
      </tr>
      <tr>
          <td>
              Additional uiattribs
          </td>
          <td>
              <input id="createPortAddUiAttribs" value="{{json port.addUiAttribs}}"/>
          </td>
      </tr>
  </table>

  <br/>
  <br/>
  <a class="button bluebutton" id="createPortSubmit">Save</a>
  <a class="button"onclick="gui.closeModal();">Cancel</a>
</script>

<script id="dialog_upload" type="text/x-handlebars-template">
  <div id="uploaddialog">

    <div
      class="uploadarea"
      id="uploadarea"
      onclick="CABLES.CMD.PATCH.uploadFile()"
    >
      Drop files to upload!
    </div>

    <span>
      By uploading data to cables, you warrant and represent that you own or
      otherwise control all of the rights to the uploaded data, including all
      the rights necessary for you to provide, post, upload, input or submit the
      data. Do not upload illegal or offensive material.
      <br /><br />
    </span>

    <a class="button bluebutton" onclick="CABLES.CMD.PATCH.uploadFile()">Select
      file</a>
    <a class="button" onclick="gui.closeModal();">Cancel</a>
  </div>
</script>

<script id="GradientEditor" type="text/x-handlebars-template">
  <div style="padding:20px;padding-top:0px;">

    <h3>{{name}} Editor</h3>

    <div id="gradientColorInput"></div>
    <a
      class="iconbutton"
      style="position:absolute;left:550px;top:117px;"
      id="gradientColorDelete"
    ><span class="icon icon-x"></span></a>

    <canvas id="gradientEditorCanvas" width="512" height="1"></canvas>
    <canvas id="gradientEditorCanvasCurve" width="512" height="100"></canvas>

    <div id="gradienteditorbar"></div>

    <br />

    <div id="gradienteditorKeys"></div>

    <br /><br />
    <a id="gradientSaveButton" class="bluebutton">Save</a>
    <a id="gradientCancelButton" class="button">Cancel</a>

  </div>
</script>

<script id="iconbar" type="text/x-handlebars-template">

  <div class="cbl_iconbar">
      {{#each items}}
          <div class="item tt info" data-info="{{infotext}}" data-tt="{{cmd}}" onmouseover="gui.showInfo(CABLES.UI.TEXTS['{{infotext}}'])" onclick="CABLES.CMD.exec('{{cmd}}');">
              {{#if vertical}}<span class="icontext">{{cmd}}</span>{{/if}}
              <span class="icon tt info icon-{{#if icon}}{{icon}}{{else}}square{{/if}} icon-1_25x " data-tt="{{cmd}}" data-info="{{cmd}}"></span>
          </div>
      {{/each}}
  </div>
</script>

<div class="cablesCssUi" id="maincomponents" style="display: none">
  <div id="library">
    <div id="lib_head"></div>
    <div style="clear: both"></div>

    <div class="libContentContainer">
      <div class="libleft">
        <div id="lib_files"></div>
      </div>
      <div class="libright">
        <div id="lib_preview"></div>
      </div>
      <div style="clear: both"></div>
    </div>
  </div>

  <div id="inspectHtmlOverlay" class="hidden"></div>

  <div id="breadcrumb_nav">
    <div id="subpatch_nav">
      <div id="subpatch_breadcrumb"></div>
    </div>
  </div>

  <div id="restriction_container" class="hidden">
    <span id="restriction_close" class="icon icon-x"></span>
    <div id="restriction_message"></div>
  </div>

  <div id="drop-op-cursor" class="hidden"></div>

  <div id="suggestionDialog" class="hidden"></div>
  <div id="modalbg" onclick="gui.pressedEscape();" style="display: none"></div>
  <div id="modalcontainer" class="cablesCssUi" style="display: none">
    <div id="modalclose" class="modalclose">
      <a class="icon-x icon icon-1_5x" onclick="gui.pressedEscape();"></a>
    </div>

    <div id="modalheader"></div>
    <div id="modalcontent"></div>
  </div>
  <div id="opsearchmodal" class="hidden cablesCssUi"></div>

  <div id="canvasflash" class="hidden"></div>
  <div id="canvasmodal" class="hidden"></div>
  <div id="canvasicons">
    <div
      class="tt icon icon-resize-window"
      id="splitterRendererWH"
      class="splitter"
      data-tt="drag to resize"
    ></div>
    <div id="canvasIconBar" class="cbl_iconbar cbl_iconbar_hor">
      <span onclick="CABLES.CMD.RENDERER.popoutCanvas()" class="item"
        ><span
          class="tt info icon icon-external icon-1_25x"
          data-tt="popout canvas"
          data-info="renderer_popout"
        ></span
      ></span>

      <span onclick="CABLES.CMD.UI.toggleMaxRenderer()" class="item"
        ><span
          class="tt info icon icon-canvas_max icon-1_25x"
          data-tt="maximize canvas"
          data-info="renderer_maximize"
        ></span
      ></span>
      <span onclick="CABLES.CMD.UI.togglePatchBgRenderer()" class="item"
        ><span
          class="tt info icon icon-canvas_patchbg icon-1_25x"
          data-tt="patch background"
          data-info="renderer_patchbg"
        ></span
      ></span>

      <span onclick="CABLES.CMD.RENDERER.screenshot()" class="item"
        ><span
          class="tt info icon icon-image icon-1_25x"
          data-tt="save screenshot"
          data-info="save_screenshot"
        ></span
      ></span>
      <span onclick="CABLES.CMD.UI.toggleMute();" class="item"
        ><span
          class="tt info icon icon-volume-2 icon-1_25x"
          id="timelineVolume"
          data-tt="Toggle Sound"
          data-info="toggle_sound"
        ></span
      ></span>
      <span onclick="CABLES.CMD.UI.canvasLens()" class="item"
        ><span
          class="tt info icon icon-picker icon-1_25x"
          id="canvasLens"
          data-tt="Pixel Magnifier"
          data-info="canvas_lens"
        ></span
      ></span>
      <span onclick="gui.helperContextMenu(this);" class="item"
        ><span
          class="tt info icon icon-gizmo icon-1_25x"
          id="canvUitoggleOverlay"
          data-tt="[o] Toggle Overlays"
          data-info="toggle_helper"
        ></span
      ></span>

      <span
        onclick="gui.canvasManager.menu(this)"
        class="item textButton info"
        data-info="canvas_switch"
        id="canvasCtxSwitcher"
        >-</span
      >
      <span
        onclick="CABLES.CMD.RENDERER.changeSize()"
        class="item textButton info"
        data-info="canvas_size"
        id="canvasInfoSize"
      ></span>
      <span
        onclick="gui.rendererAspectMenu(this)"
        class="item textButton info"
        data-info="canvas_aspect"
        id="canvasInfoAspect"
        >Aspect</span
      >
      <span
        class="item nonInteractive info"
        data-info="canvas_version"
        id="canvasInfoVersion"
      ></span>
      <span
        class="item nonInteractive info"
        data-info="canvas_fps"
        id="canvasInfoFPS"
        >?? FPS</span
      >
      <span
        class="item nonInteractive info"
        data-info="canvas_ms"
        id="canvasInfoMS"
        >? MS</span
      >

      <span onclick="gui.rendererContextMenu(this)" class="item threedotcanvas"
        ><span class="icon icon-three-dots icon-1_25x"></span
      ></span>
    </div>
  </div>
  <div id="canvasInfoOverlay" class="hidden"></div>
  <div id="notify"></div>

  <div id="maintabs"></div>
  <div id="bottomtabs"></div>

  <div
    id="editormaximized"
    class="info"
    onclick="gui.maintabPanel.toggle(true);gui.setLayout();"
    data-info="minimize_tabpanel"
  >
    <span class="icon icon-chevron-left" style="pointer-events: none"></span>
  </div>

  <div
    id="editorminimized"
    onclick="gui.maintabPanel.toggle(true);gui.setLayout();"
    data-info="minimize_tabpanel"
  >
    <span class="icon icon-chevron-right"></span>
  </div>

  <canvas
    id="bgpreview"
    data-info="texpreview"
    class="info"
    style="border: 1px solid #222"
  >
  </canvas>

  <div
    id="bgpreviewButtonsContainer"
    class="hidden cbl_iconbarContainer cbl_iconbar_hor"
  >
    <div id="bgpreviewButtons" class="cbl_iconbar cbl_iconbar_hor">
      <span
        class="item nonInteractive"
        style="float: left"
        id="bgpreviewInfo"
        onclick="gui.metaTexturePreviewer.gotoOp();"
      >
      </span>

      <span
        class="item"
        id="texprevSize"
        onclick="gui.metaTexturePreviewer.toggleSize(-1);"
        style="padding-right: 0px !important; margin-right: 0px !important"
      >
        <span
          id="bgpreviewToggleSize"
          class="icon icon-1_25x fright iconhover icon-minus"
        ></span>
      </span>
      <span
        class="item"
        id="texprevSize2"
        onclick="gui.metaTexturePreviewer.toggleSize(1);"
        style="padding-left: 0px !important; margin-left: 0px !important"
      >
        <span
          id="bgpreviewToggleSize"
          class="icon icon-1_25x fright iconhover icon-plus"
        ></span>
      </span>

      <span
        class="item hidden"
        id="bgpreviewMax"
        onclick="CABLES.UI.userSettings.set('bgpreviewMax',true);"
      >
        <span class="icon icon-1_25x fright iconhover icon-chevron-left"></span>
      </span>
      <span
        class="item"
        id="bgpreviewMin"
        onclick="CABLES.UI.userSettings.set('bgpreviewMax',false);"
      >
        <span
          class="icon icon-1_25x fright iconhover icon-chevron-right"
        ></span>
      </span>
    </div>
  </div>

  <div id="patchviews">
    <div id="patch" tabindex="1" class="visible"></div>
  </div>

  <div id="timing"></div>

  <div id="splitterPatch" class="splitter"></div>
  <div id="splitterRenderer" class="splitter"></div>
  <div id="splitterMaintabs" class="splitter"></div>
  <div id="splitterBottomTabs" class="splitter"></div>

  <div id="uploadprogresscontainer" class="hidden">
    <div id="uploadprogress"></div>
  </div>

  <div id="menubar" class="hidden menubar" style="-webkit-app-region: drag">
    <!-- handle to drag the window in electron -->
    <nav style="-webkit-app-region: no-drag">
      <!-- disable window dragging here to regain control -->
      <ul>
        <li class="nav_logo main" id="nav_logo_area">
          <span id="nav-logo" class="icon-empty icon">
            <div id="nav-logo_idle"></div>
            <div id="nav-loading"></div>
          </span>

          <ul class="nav-submenu" id="nav_recentpatches"></ul>
        </li>

        <li class="main">
          <div id="patchname" onclick="CABLES.CMD.UI.settings();"></div>
          <ul class="nav-submenu">
            <div id="savestates"></div>

            <li
              id="nav_patch_settings"
              class="nav_patch_settings"
              onclick="CABLES.CMD.UI.settings();"
            >
              Patch settings<span class="shortcut">[cmd_ctrl]`,`</span>
            </li>

            <li class="divide"></li>
            <li id="nav_createBackup">Create Backup</li>
            <li id="nav_viewBackups">Backups</li>

            <li class="divide"></li>
            <li id="nav_patch_save">
              Save <span class="shortcut">[cmd_ctrl]`S`</span>
            </li>
            <li id="nav_patch_saveas">
              Clone Patch<span class="shortcut">[cmd_ctrl][shift]`S`</span>
            </li>
            <li id="nav_patch_export">Export</li>
            <li id="nav_patch_export_patch">Export - Patch</li>

            <li class="divide"></li>

            <li id="nav_patch_page" class="nav-sub-submenu nav_patch_page">
              View Patch Page
              <span class="icon icon-chevron-right"></span>
              <ul>
                <li><a id="nav_viewProjectLink">Open in new window</a></li>
                <li class="divide"></li>
                <li>
                  <a>Open on mobile:</a>
                  <div
                    id="patch_view_qr"
                    style="border: 10px solid white"
                  ></div>
                </li>
              </ul>
            </li>

            <li class="nav-sub-submenu nav_remote_viewer hidden">
              Remote Viewer
              <span class="icon icon-chevron-right"></span>
              <ul>
                <li><a id="nav_remoteViewerLink">Open in new window</a></li>
                <li class="divide"></li>
                <li>
                  <a>Open on mobile:</a>
                  <div
                    id="remote_view_qr"
                    style="border: 10px solid white"
                  ></div>
                </li>
              </ul>
            </li>
          </ul>
        </li>

        <li class="nav_cables main">
          <span class="icon icon-1_25x icon-user"></span>
          <ul class="nav-submenu">
            <li id="nav_preferences">My Editor Preferences</li>
            <li id="nav_op_createOp">Code a new op</li>
            <li id="nav_op_patchOp">Patch a new op</li>
            <li class="divide"></li>
            <li id="nav_patch_add_opdir" class="hidden">
              Manage Op Directories
            </li>
          </ul>
        </li>

        <li class="main">
          <span class="icon icon-1_25x icon-cables_editor"></span>

          <ul class="nav-submenu">
            <li id="nav_welcome" class="hidden">Welcome</li>
            <li id="nav_filemanager">Files</li>
            <li id="nav_timeline">Timeline</li>
            <li id="nav_profiler">Profiler</li>
            <li id="nav_log">Log Console</li>
            <li id="nav_gpuprofiler">GPU Profiler</li>
            <li id="nav_patchanalysis">Patch Analysis</li>
            <li id="nav_uploadfile">Upload file</li>
            <li id="nav_search">
              Search <span class="shortcut">[cmd_ctrl]`F`</span>
            </li>
            <li id="nav_cmdplt">
              Command Palette <span class="shortcut">[cmd_ctrl]`P`</span>
            </li>
            <li id="nav_buildinfo">Build Info</li>
          </ul>
        </li>

        <li class="nav-item-help main">
          <span class="icon icon-1_25x icon-help"></span>

          <ul class="nav-submenu">
            <li id="nav_help_documentation">Documentation</li>
            <li id="nav_help_introduction">Introduction</li>
            <li id="nav_help_video">Video Tutorials</li>
            <li id="nav_help_tips">Tips</li>
            <li id="nav_help_keys">Keyboard shortcuts</li>

            <li class="divide"></li>
            <li id="nav_changelog">View Changelog</li>
          </ul>
        </li>

        <li id="nav-item-activity" class="main hidden">
          <span
            class="dot hidden"
            style="
              border-radius: 100%;
              width: 6px;
              height: 6px;
              background-color: red;
              z-index: 100;
              position: absolute;
              margin-left: -6px;
              margin-top: 0px;
            "
          ></span>
          <span class="icon icon-activity icon-1_25x"></span>
        </li>

        <li class="nav-item-offline hidden" id="nav-item-offline">
          <span
            class="icon-unplug icon tt"
            style="display: inherit; margin: -3px; background-color: red"
            data-tt="Connection problems detected"
          ></span>
        </li>

        <li
          class="nav-item-error hidden"
          id="nav-item-error"
          onclick="gui.find(':attention');gui.patchView.checkPatchErrors();"
        >
          <span
            id="nav-item-error-icon"
            class="icon-alert-triangle icon"
            style="display: inherit; margin: -3px"
          ></span
          >&nbsp;
        </li>
        <!-- <li class="nav-item-log " id="nav-item-log" onclick="CABLES.CMD.DEBUG.logConsole()" >
                    <span id="nav-item-log-icon" class="icon-logs icon" style="display:inherit;margin:-3px;"></span>&nbsp;
                </li> -->
        <li class="nav-item-bpReload hidden" id="nav-item-bpReload">
          <span
            id="nav-item-bpReload-icon"
            class="icon-refresh icon"
            style="
              display: inherit;
              margin: -3px;
              background-color: var(--color_port_array);
            "
          ></span
          >&nbsp;
        </li>
      </ul>
    </nav>
  </div>

  <div id="multiplayerbar" class="menubar" style="cursor: pointer">
    <div class="nav-clientlist" id="nav-clientlist"></div>
  </div>

  <div id="meta">
    <div id="metatabpanel" style="width: 100%; min-height: 400px"></div>

    <!-- <div id="splitterMeta" class="splitter">
            <a class="icon-x icon fright iconhover" style="position: absolute;z-index: 9999;right: 10px;margin-top: 10px;" onclick="gui.closeInfo();">.</a>
        </div> -->
  </div>

  <div id="options"></div>

  <div id="infoAreaContainer">
    <div id="infoArea" class=""></div>
  </div>

  <div id="infoAreaParam" class=""></div>

  <div id="infoAreaToggle" onclick="gui.bottomInfoArea.toggle();">
    <span class="icon icon-chevron-down"></span>
  </div>

  <form id="hiddenupload" class="hidden">
    <input
      id="hiddenfileElem"
      type="file"
      multiple
      accept="*"
      style="display: none"
      onchange="CABLES.fileUploader.handleFileInputUpload(this.files)"
    />
  </form>

  <form id="hiddenreupload" class="hidden">
    <input
      id="hiddenfileElemReupload"
      type="file"
      multiple
      accept="*"
      style="display: none"
      onchange="CABLES.fileUploader.handleFileInputReUpload(this.files)"
    />
  </form>

  <div class="tooltip hidden" id="cbltooltip"></div>

  <div id="uiperfcontainer">
    <a onclick="gui.uiProfiler.clear();" class="button">reset</a>
    <input
      id="uiPerfFilter"
      class="medium"
      placeholder="Filter"
      style="width: 50%"
      type="search"
      oninput="gui.uiProfiler.filter(this.value)"
    />
    <a onclick="gui.uiProfiler.hide();" class="button">close</a>
    <div id="uiperf"></div>
  </div>

  <div id="patchnavhelperBounds" class="hidden" onclick=""></div>
  <div id="patchnavhelperEmpty" class="hidden"></div>
</div>

<script id="meta_preview" type="text/x-handlebars-template">
  <style>
    .previewcontainer {
      cursor: pointer;
      padding: 10px;
      border-left: 1px solid #000;
      margin-bottom: 5px;
      position: relative;
      width: 100%;
    }

    .previewcontainer.paused canvas {
      opacity: 0.25;
    }

    .previewcontainer.paused:before {
      position: absolute;
      content: "paused";
      font-size: 20px;
      padding: 10px;
      color: red;
      z-index: 99999;
    }

    .activePreview {
      border-left: 1px solid #07f78c;
    }

    .previewcontainer canvas {
      transform: scale(1, -1);
    }

    .previewcontainer canvas {
      max-height: 200px;
    }

    .previewcontainer:hover {
      background-color: #000;
    }
  </style>

  <h3>Texture Preview {{numTextures}}</h3>

  <div
    style="display:flex;flex-flow: column-reverse;"
    id="meta_preview_textures"
  ></div>
</script>

<script id="meta_preview_texture" type="text/x-handlebars-template">
  <div
    id="preview{{tex.id}}"
    onclick="gui.patchView.centerSelectOp('{{tex.opid}}');"
    class="previewcontainer tt"
    data-tt="{{tex.title}} {{tex.size}}"
    data-sort="0"
  >
    <canvas
      id="preview_img_{{tex.id}}"
      style="transform:scale(1 -1)"
      class="bgPatternBright"
    ></canvas>
    <div>
      {{tex.title}}
      |
      <span id="activity{{tex.id}}"></span>
    </div>
  </div>
</script>

<script id="meta_profiler" type="text/x-handlebars-template">
  <div class="tabContentScrollContainer">
    <div>
      <h2>Profiler</h2>

      <a class="button" id="profilerstartbutton"><span
          class="icon icon-pie-chart"
        ></span>Start</a>

      <div id="profilerui" style="display:none" class="editor_spreadsheet">

        <a
          class="button-small"
          onclick="gui.corePatch().profiler.clear();gui.corePatch().cgl.profileData.heavyEvents=[];"
        >Reset</a>
        <a
          class="button-small"
          id="profiler_pause"
          onclick="gui.corePatch().profiler.togglePause();"
        >Pause</a>

        <br />
        <br />
        <div class="text-center">
          <a
            id="profilerTabOpsCum"
            class="tabActiveSubtab"
            data-info="file_source_patch"
          >Cumulated Ops</a>
          <a
            id="profilerTabOps"
            class="tabSubtab"
            data-info="file_source_patch"
          >Individual Ops</a>
          <a
            id="profilerTabSubpatches"
            class="tabSubtab"
            data-info="file_source_patch"
          >Subpatches</a>
          <a
            id="profilerTabPeaks"
            class="tabSubtab"
            data-info="file_source_patch"
          >Peaks</a>
          <a
            id="profilerTabEvents"
            class="tabSubtab"
            data-info="file_source_patch"
          >Events</a>
        </div>
        <br /><br />

        <div id="profilerdata"></div>
        <div id="profilerbar"></div>

        <div
          id="profilerlist"
          style="font-family:monospace;font-size:12px;"
        ></div>

        <br />
      </div>
    </div>
  </div>
</script>

<script id="uiDebug" type="text/x-handlebars-template">
  <h3>WebGL</h3>

  <table>
    <tr>
      <td valign="top">version:</td>
      <td>{{gl_ver}}</td>
    </tr>
    <tr>
      <td valign="top">renderer:</td>
      <td>{{gl_renderer}}</td>
    </tr>
  </table>
  <br /><br />

  <h3>SVG</h3>

  numOps:{{numOps}}
  <br />
  numSvgElements:{{numSvgElements}}
  <br />
  numVisibleOps:{{numVisibleOps}}
  <br />
  <br />

  <h3>Canvas</h3>
  <table>
    {{#each canvass}}
      <tr>
        <td>{{name}}</td>
        <td>{{width}}x{{height}}</td>
      </tr>
    {{/each}}
  </table>
  <br />
  <br />

  <h3>startup times</h3>
  <table>
    {{#each startup}}
      <tr>
        <td>{{time}}s</td>
        <td>{{title}}</td>
      </tr>
    {{/each}}
  </table>
</script>

<script id="op-doc-template" type="text/x-handlebars-template">
  <div class="op-doc">
    <base target="_blank" />
    <!-- open links in new window -->
    {{#if opDoc}}
      <p class="op-doc__name">{{opDoc.shortNameDisplay}}</p>
      <p class="">
        {{opDoc.name}}
        {{#if opDoc.oldVersion}} OLD {{/if}}
      </p>

      {{#if opDoc.summary}}
        <div class="op-doc__summary">{{md opDoc.summary}}</div>
      {{/if}}
      {{#if opDoc.hasScreenshot}}
        <img
          class="op-doc__screenshot"
          src="{{cablesUrl}}/op/screenshot/{{opDoc.name}}.png"
        />
      {{/if}}
      {{#if opDoc.content}}
        <div class="op-doc__description">
          {{md opDoc.content true "_blank"}}
        </div>
      {{/if}}
    {{/if}}
    <br /><br />
  </div>
</script>
<script
  id="op-doc-collection-template-extension"
  type="text/x-handlebars-template"
>
  <div id="opselect-layout" class="collection extension">
      {{#compare collectionInfo.numOps '==' 0}}
          <h2><i class="icon icon-book-open"></i>&nbsp;{{collectionInfo.shortName}} Extension</h2>
      {{else}}
          <h2><i class="icon icon-book-open"></i>&nbsp;{{collectionInfo.shortName}} Extension - {{collectionInfo.numOps}} ops</h2>
      {{/compare}}
      {{#if collectionInfo.teamName}}
          Maintained by Team <a target="_blank" href="{{cablesUrl}}{{collectionInfo.teamLink}}">{{collectionInfo.teamName}}</a><br/>
      {{/if}}
      {{#if opDoc.summary}}
          <div class="op-doc__summary">{{md opDoc.summary}}</div>
      {{/if}}
      {{#if opDoc.description}}
          <div class="op-doc__description">{{md opDoc.description}}</div>
      {{/if}}
      {{#if collectionInfo.teamLink}}
          <a target=\"_blank\" href="{{cablesUrl}}{{collectionInfo.teamLink}}" class="button-small">View team</a>
      {{/if}}
      <a target="_blank" href="{{cablesUrl}}/ops/{{collectionInfo.name}}" class="button-small">View ops in this namespace</a>
      {{#if collectionInfo.ops.length}}
          <br/><br/>
          {{#each collectionInfo.ops}}
              <img src="{{../cablesUrl}}/api/op/layout/{{.}}"/>
          {{/each}}
      {{/if}}
  </div>
</script>
<script
  id="op-doc-collection-template-teamnamespace"
  type="text/x-handlebars-template"
>
  <div id="opselect-layout" class="collection teamnamespace">
      {{#compare collectionInfo.numOps '==' 0}}
          <h2><i class="icon icon-book-open"></i>&nbsp;{{collectionInfo.shortName}}</h2>
      {{else}}
          <h2><i class="icon icon-book-open"></i>&nbsp;{{collectionInfo.shortName}} - {{collectionInfo.numOps}} ops</h2>
      {{/compare}}
      {{#if collectionInfo.teamName}}
          Maintained by Team <a target="_blank" href="{{cablesUrl}}{{collectionInfo.teamLink}}">{{collectionInfo.teamName}}</a><br/>
      {{/if}}
      {{#if opDoc.summary}}
          <div class="op-doc__summary">{{md opDoc.summary}}</div>
      {{/if}}
      {{#if opDoc.description}}
          <div class="op-doc__description">{{md opDoc.description}}</div>
      {{/if}}
      {{#if collectionInfo.teamLink}}
          <a target=\"_blank\" href="{{cablesUrl}}{{collectionInfo.teamLink}}" class="button-small">View team</a>
      {{/if}}
      <a target="_blank" href="{{cablesUrl}}/ops/{{collectionInfo.name}}" class="button-small">View ops in this namespace</a>
      {{#if collectionInfo.ops.length}}
          <br/><br/>
          {{#each collectionInfo.ops}}
              <img src="{{../cablesUrl}}/api/op/layout/{{.}}"/>
          {{/each}}
      {{/if}}
  </div>
</script>

<script id="op_add_dependency_file" type="text/x-handlebars-template">
  <div id="addopdependency_file_{{viewId}}" class="addopdependency">
    Upload a javascript library to use it in your op&nbsp;&nbsp;&nbsp;<a
      class="button-small"
      target="_blank"
      href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"
    ><span class="nomargin icon icon-1_25x icon-help"></span></a><br />
    <input type="hidden" name="depType" value="commonjs" />
    <input class="depSrc upload" type="text" readonly disabled />
    <a class="button upload"><span
        class="icon icon-plus-circle icon-1_25x"
      ></span>Select file</a><br />
    <div class="exportName hidden">Export as:
      <input type="text" value="" /></div>
    Type of library:
    <select name="type" class="type">
      <option value="commonjs">Common JS</option>
      <option value="module">JS Module</option>
    </select><br />
    <a class="button add">Add</a>
    <input class="hidden" type="file" accept=".js,application/javascript" />
  </div>
</script>
<script id="op_add_dependency_url" type="text/x-handlebars-template">
  <div id="addopdependency_url_{{viewId}}" class="addopdependency">
    Load a javascript library via URL to use in your op&nbsp;&nbsp;&nbsp;<a
      class="button-small"
      target="_blank"
      href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"
    ><span class="nomargin icon icon-1_25x icon-help"></span></a><br />
    <input type="hidden" name="depType" value="commonjs" />
    <input class="depSrc" type="text" />
    <div class="exportName hidden">Export as:
      <input type="text" value="" /></div>
    <br />
    Type of library:
    <select name="type" class="type">
      <option value="commonjs">Common JS</option>
      <option value="module">JS Module</option>
    </select><br />
    <a class="button add">Add</a>
  </div>
</script>
<script id="op_add_dependency_npm" type="text/x-handlebars-template">
  <div id="addopdependency_npm_{{viewId}}" class="addopdependency">
    Add any NPM to your op&nbsp;&nbsp;&nbsp;<a
      class="button-small"
      target="_blank"
      href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"
    ><span class="nomargin icon icon-1_25x icon-help"></span></a><br />
    <input type="hidden" name="depType" value="npm" />
    <input class="depSrc" type="text" placeholder="@cables/cables" />
    <a class="button add">Add</a>
  </div>
</script>
<script id="op_add_dependency_op" type="text/x-handlebars-template">
  <div id="addopdependency_op_{{viewId}}" class="addopdependency">
    <div class="warning-error warning-error-level1 hidden">Invalid op-name</div>
    Make you op inherit dependencies from another op&nbsp;&nbsp;&nbsp;<a
      class="button-small"
      target="_blank"
      href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"
    ><span class="nomargin icon icon-1_25x icon-help"></span></a><br />
    <input type="hidden" name="depType" value="op" />
    <input class="depSrc" type="text" placeholder="Ops.Gl.MainLoop" />
    <a class="button add">Add</a>
  </div>
</script>
<script id="op_add_dependency_corelib" type="text/x-handlebars-template">
  <div id="addopdependency_corelib_{{viewId}}" class="libselect addopdependency">
      Add a cables core library to your op&nbsp;&nbsp;&nbsp;<a class="button-small" target="_blank" href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"><span class="nomargin icon icon-1_25x icon-help"></span></a><br/>
      <input type="hidden" name="depType" value="corelib"/>
      <select class="bigsel depSrc" id="{{viewId}}_addcorelib">
          <option value="">---</option>
          {{#each coreLibs}}
              <option value="{{.}}">{{.}}</option>
          {{/each}}
      </select><br/>
      <a class="button add">Add</a>
  </div>
</script>
<script id="op_add_dependency_lib" type="text/x-handlebars-template">
  <div id="addopdependency_lib_{{viewId}}" class="libselect addopdependency">
    Add a lib from the cables library to your op&nbsp;&nbsp;&nbsp;<a
      class="button-small"
      target="_blank"
      href="{{docsUrl}}/docs/5_writing_ops/dev_libraries/dev_libraries"
    ><span class="nomargin icon icon-1_25x icon-help"></span></a><br />
    <input type="hidden" name="depType" value="lib" />
    <select class="bigsel depSrc" id="{{viewId}}_addoplib">
      <option value="">---</option>
      {{#each libs}}
        <option value="{{url}}">{{#if isAssetLib}}patch file -
          {{/if}}{{name}}</option>
      {{/each}}
    </select><br />
    <a class="button add">Add</a>
  </div>
</script>

<script id="op_select" type="text/x-handlebars-template">
  <div class="opsearch">
    <!-- <div id="optree" class="optree"></div> -->
    <div id="searchinfo" class="searchinfo"></div>
    <!-- <div id="closearea" onclick="gui.closeModal();" style="width:100px;height:50px;position: absolute;left:500px;height:100px;width:500px;"></div> -->

    <div class="opselectclose">
      <a class="icon-x icon icon-1_5x" onclick="gui.pressedEscape();"></a>
    </div>

    <header>
      <input
        id="opsearch"
        class="opsearchInput notIgnoreEscape"
        placeholder="Search for op"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
        type="search"
      />
      <br />
      <span
        style="margin-top:6px;position:absolute;font-size:13px;opacity:0.35;"
        id="realsearch"
      ></span>
    </header>

    <style id="search_style"></style>

    <div class="searchbrowserContainer" id="searchbrowserContainer">
    </div>
  </div>
</script>

<script id="op_select_ops" type="text/x-handlebars-template">

  <div class="searchbrowser">

      {{#each ops}}
      <div id="result_{{id}}"
          class="searchresult clickable hidden searchable {{#if notUsable}}not-usable{{/if}} {{#if isCollection }}collection{{/if}}"
          data-opname="{{name}}"
          data-item-type="{{type}}"
          onclick="gui.opSelect().selectOp('{{ name }}')"
          ondblclick="gui.opSelect().addOp('{{name}}', false, '{{type}}');"
          style="{{#if old}}opacity:0.5{{/if}}">
              <div class="button fright addbutton" style="margin-top:10px;" >{{buttonText}}</div>

              <a>
                  {{#if notUsable}}
                      <span class="icon icon-x"></span>
                  {{else}}
                      {{#if userOp }}<span class="icon icon-user"></span>{{/if}}
                      {{#if devOp }}<span class="icon icon-tool"></span>{{/if}}
                      {{#if patchOp }}<span class="icon icon-op"></span>{{/if}}
                      {{#if isTeamNamespace }}<span class="icon icon-users"></span>{{/if}}
                      {{#if isExtension }}<span class="icon icon-book-open"></span>{{/if}}
                  {{/if}}
                  <span class="shortname {{ nscolor }}">{{shortName}}</span>
                  {{oldState}}
                  {{#if old}}OLD{{/if}}
                  <span class="namespace" onClick="gui.opSelect().searchFor('{{nameSpace}}');">{{nameSpace}}
                  </span>{{isFunction}}

                  {{#if notUsable}}<div class="summary warning">NOT USABLE - {{#each notUsableReasons}}{{.}}{{/each}}</div>{{else}}<div class="summary">{{summary}}&nbsp;</div>{{/if}}
              </a>
          </div>
      {{/each}}


    <div id="search_startType" class="hidden">
        <div class="padded text-center">
            <br/>
            {{{texts.opselect_intro}}}
            {{#if patchOps}}
              <br/><br/>
              <a class="button button-small" onclick="gui.opSelect().searchFor('Ops.Patch.P'+gui.project().shortId);">{{patchOps}} patch ops</a>
            {{/if}}
        </div>
    </div>

    <div id="search_startTypeMore" class="hidden">
        <div class="padded text-center">
            <br/>
            {{{texts.opselect_typemore}}}
        </div>
    </div>

    <div id="search_noresults" class="hidden">
        <div class="padded text-center">
            <br/>
            {{{texts.opselect_notfound}}}
        </div>
    </div>
  </div>
  <div id="opOptions" class="opOptions">.</div>
</script>

<script id="op_select_sugggest" type="text/x-handlebars-template">

  <h2 style="margin-top:0px;">Suggestions</h2>


  {{#if ops}}
  <h3>Ops</h3>
      {{#each ops}}
          <a class="opLayoutButton" onclick="gui.opSelect().addOp('{{.}}');">
              {{opLayout .}}
          </a><br/>
      {{/each}}
  {{/if}}

  {{#if vizops}}
      <h3>Visualize</h3>
      {{#each vizops}}
          <a class="opLayoutButton" onclick="gui.opSelect().addOp('{{.}}');">
              {{opLayout .}}
              </a><br/>
      {{/each}}
  {{/if}}


  {{#if link}}
  <br/>

      <a class="button button-icon" onclick="CABLES.CMD.PATCH.addLinkReroute();">
          <span class="icon icon-git-commit-horizontal"></span>Reroute
      </a>

  {{/if}}

  <h3>Variables</h3>

  <span id="opselect_createTrigger">
      <a class="button-small" onclick="CABLES.CMD.PATCH.createTriggerSendReceive();">Create trigger send/receive</a>
      <br/>
      <a class="button-small" id="replaceLinkTriggerExists" onclick="CABLES.CMD.PATCH.replaceLinkTriggerReceiveExist();">Receive existing trigger send!</a>
      <br/>
  </span>

  <span id="opselect_createTriggerExists">
      <a class="button-small" id="createLinkTriggerExists" onclick="CABLES.CMD.PATCH.createTriggerSendReceiveExist();">TRIGGER SEND OR RECEIVE</a>
      <br/>
  </span>

  {{#compare port.direction '==' '0' }}
  <span id="opselect_createVar">
      <a class="button-small" onclick="CABLES.CMD.PATCH.createAutoVariable();">Create a variable</a>
      <br/>
      <a class="button-small" id="createLinkVariableExists" onclick="CABLES.CMD.PATCH.createLinkVariableExist();">Get variable</a>
      <br/>
  </span>
  {{/compare}}

  {{#compare port.direction '==' '1' }}
  <span id="opselect_createVar">
      <a class="button-small" onclick="CABLES.CMD.PATCH.createAutoVariable();">Create a variable</a>
      <br/>
      <a class="button-small" id="createLinkVariableExists" onclick="CABLES.CMD.PATCH.createLinkVariableExist();">Set variable</a>
      <br/>
      <a class="button-small" id="createLinkTriggerVariable" onclick="CABLES.CMD.PATCH.createLinkVariableExist(true);">Trigger variable</a>
      <br/>
  </span>
  {{/compare}}

  <span id="opselect_replaceVar">
      Replace link with:
      <a class="button-small" onclick="CABLES.CMD.PATCH.replaceLinkVariable();">New variable</a>
      <br/>
      <a class="button-small" id="replaceLinkVariableExists" onclick="CABLES.CMD.PATCH.replaceLinkVariableExist();">Existing variable</a>
      <br/>
  </span>

  <br/>
</script>

<script id="params_convert" type="text/x-handlebars-template">
  <div class="panel">

    <h2>{{converterName}}</h2>
    <br />
    <i id="converterprogress" class="hidden">Working....</i>

    <form id="converterform" onsubmit="return false;">

      {{#compare converterId "==" "duplicate"}}
        <div>
          <table>
            <tr>
              <td>New Filename</td>
              <td>
                <input
                  style="width: 60%"
                  type="text"
                  name="newName"
                  value="{{fileName}}"
                  autofocus
                />
              </td>
            </tr>
          </table>
        </div>
        <br />
      {{/compare}}

      {{#compare converterId "==" "rename"}}
        <div>
          <table>
            <tr>
              <td>New Filename</td>
              <td>
                <input
                  style="width: 60%"
                  type="text"
                  name="newName"
                  value="{{fileName}}"
                  autofocus
                />
              </td>
            </tr>
          </table>
        </div>
        <br />
      {{/compare}}

      {{#compare converterId "==" "gltf2draco"}}

        <table>
          <tr>
            <td>Compression Level [0-10]<br /><br /></td>
            <td><input name="compressionLevel" value="6" /></td>
          </tr>

          <tr>
            <td>Quantize Position Bits</td>
            <td><input name="quantizePositionBits" value="14" /></td>
          </tr>
          <tr>
            <td>Quantize Normal Bits</td>
            <td><input name="quantizeNormalBits" value="10" /></td>
          </tr>
          <tr>
            <td>Quantize Texcoord Bits</td>
            <td><input name="quantizeTexcoordBits" value="12" /></td>
          </tr>
          <tr>
            <td>Quantize Color Bits</td>
            <td><input name="quantizeColorBits" value="8" /></td>
          </tr>
          <tr>
            <td>Quantize Generic Bits</td>
            <td><input name="quantizeGenericBits" value="12" /></td>
          </tr>
          <tr>
            <td>Unified Quantization</td>
            <td>
              <select name="unifiedQuantization">
                <option value="false">false</option>
                <option value="true">true</option>
              </select>
            </td>
          </tr>
        </table>

        <br />

      {{/compare}}

      {{#compare converterId "==" "pcconv"}}

        <div>
          <table>
            <tr>
              <td>Center Points</td>
              <td>
                <select name="doCenter">
                  <option value="false">false</option>
                  <option value="true">true</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>Reduce Points Num</td>
              <td>
                <input name="reduce" value="0" />
                <br />0 - do not reduce
              </td>
            </tr>
          </table>
        </div>

      {{/compare}}

      <a
        class="button"
        onclick="gui.converterStart('{{projectId}}','{{fileId}}','{{converterId}}')"
      ><span class="icon icon-refresh"></span>Start: {{converterName}}</a>
      <br /><br />

    </form>

  </div>
  <div class="modalScrollContent hidden" id="converteroutput">

  </div>
  <br />
  <a id="modalClose" class="hidden bluebutton">Close</a>
</script>

<script id="params_keys" type="text/x-handlebars-template">
  <div class="panel">

    <a
      class="button-small icon-linear"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_LINEAR);"
    >&nbsp;Linear</a>
    <a
      class="button-small icon-absolut"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_ABSOLUTE);"
    >&nbsp;Absolute</a>

    {{numKeys}}
    keys

    <br /><br />

    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_SIN_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_CUBIC_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUART_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUINT_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_EXPO_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_BACK_IN);"
    ><span class="icon icon-ease-cub-in"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_ELASTIC_IN);"
    ><span class="icon icon-ease-exp-in"></span></a>

    <br /><br />

    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_SIN_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_CUBIC_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUART_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUINT_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_EXPO_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_BACK_INOUT);"
    ><span class="icon icon-ease-cubic"></span></a>

    <br /><br />

    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_SIN_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_CUBIC_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUART_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_QUINT_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_EXPO_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_BACK_OUT);"
    ><span class="icon icon-ease-cub-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_ELASTIC_OUT);"
    ><span class="icon icon-ease-exp-out"></span></a>
    <a
      class="iconbutton"
      onclick="gui.timeLine().setSelectedKeysEasing(CABLES.EASING_BOUNCE_OUT);"
    ><span class="icon icon-ease-exp-out"></span></a>

  </div>
</script>

<script id="params_op_head" type="text/x-handlebars-template">

      <div class="selectable params">

          <a onclick="gui.opParams.opContextMenu(this)" class="tt icon icon-three-dots iconhover op-contextmenu info" data-info="More Options"></a>
          {{#if isBookmarked}}
              <a onclick="gui.bookmarks.add('{{op.id}}')" class="icon iconhover icon-bookmark-filled info toggle-bookmark-button" data-info="Add Bookmark"></a>
          {{else}}
              <a onclick="gui.bookmarks.add('{{op.id}}')" class="icon iconhover icon-bookmark info toggle-bookmark-button" data-info="Add Bookmark"></a>
          {{/if}}

          <div class="panel params_op_head panel_head">
              <!-- <span style="padding-left: 2px;font-size: 20px;font-weight: bold;">Op</span> -->
              <!-- <input class="medium info" id="opname" oninput="gui.opParams.setCurrentOpTitle(this.value);" value="{{optitle}}" type="search" data-info="op_title"> -->

              <a class="optitle" onclick="{{#if canEditOp}}CABLES.CMD.OP.renameOp(){{else}}CABLES.CMD.PATCH.setOpTitle(){{/if}}"><b>Op</b> {{optitle}} {{#if canEditOp}}<span class="editbutton"><i class="icon icon-edit"></i><span style="font-size:12px;">rename</span>{{/if}}</a>
  			<br/>
              <div style="max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:5px;">
              <a href="{{cablesDocsUrl}}/op/{{op.objName}}" class="{{colorClass}}" target="_blank"></i>&nbsp;{{op.objName}}</a>

              {{#if oldVersion}}
                  <a href="{{cablesDocsUrl}}/op/{{op.objName}}">- newer version available</a>
                  <a class="button-small" onclick="gui.patchView.replaceOpCheck('{{op.id}}','{{newestVersion.name}}')">Upgrade</a>
                  <br/>
              {{else}}
                  {{#if op.summary}} - {{op.summary}}{{/if}}
              {{/if}}
          </div>


          {{#if minified}}
          {{:else}}
              <div class="summary selectable">
              </div>
          {{/if}}


          <a href="{{cablesDocsUrl}}/op/{{op.objName}}" class="button-small"  target="_blank"> Documentation</a>
          {{#if hasExample}}
              <a href="{{cablesDocsUrl}}/op/example/{{op.objName}}" class="button-small"  target="_blank">Example</a>
          {{/if}}

          <a class="button-small button-icon tt" data-tt="manage op" id="parampanel_manage_op"><span class="icon icon-op"></span></a>

          {{#if canEditOp}}
              <a class="button-small button-icon tt info" data-info="[e] - edit op" data-tt="[e] - edit op " id="parampanel_edit_op"><span class="icon icon-edit"></span></a>
          {{/if}}




          {{#if op.crashed }}
              OP CRASHED
          {{/if}}

          {{#if op.isDeprecated }}
              <div class="warning" id="">
                  This operator is outdated.
                  {{#if op.isDeprecatedAlternative }}
                  <br/>
                  we recommend to use the new version: <a onclick="gui.scene().addOp('{{op.isDeprecatedAlternative}}');">{{ op.isDeprecatedAlternative }}</a>
                  {{/if}}
              </div>
              <br/><br/>
          {{/if}}

          {{#if opChanged}}
              <div>
                  op was changed on server
                  <a class="button-small button-icon tt" data-tt="manage op" id="parampanel_loadchangedop_{{op.opId}}"><span class="icon icon-refresh"></span> Reload</a>
              </div>
          {{/if}}

          {{#if op.uiAttribs.error }}

              <div class="warning-error warning-error-level2" id="options_error"  >
                  OLD ERROR MSG<br/>
                  <i>Error:</i> {{op.uiAttribs.error}}
              </div>
          {{/if}}

          {{#if op.uiAttribs.errors }}
              {{#each op.uiAttribs.errors}}
                  <div class="warning-error warning-error-level2" id="options_error"  >
                      OLD ERROR MSG<br/>
                      {{.}}<br/>
                  </div>
              {{/each}}
          {{/if}}

          <div id="op_params_uierrors"></div>

          {{#if op.enabled}}{{else}}
          <div id="uierror__disabled" class="warning-error warning-error-level0"><b>Hint: </b>Op is disabled</div>
      {{/if}}

          {{#if op.isExperimental }}
              <div class="warning-experimental" id=""><b>Warning: This operator is Experimental.</b><br/> You can play around with it, but a lot will change and it might stop working for you.</div>
          {{/if}}

          {{#if op.uiAttribs.warning }}
              <div class="warning" id="options_warning" >
                  <i>Warning:</i> {{op.uiAttribs.warning}}
              </div>
          {{/if}}

          {{#if op.uiAttribs.hint }}
              <div class="hint" id="options_hint" >
                  <i>Hint:</i> {{op.uiAttribs.hint}}
              </div>
          {{/if}}



      </div>
  </div>

  <div id="opparams" class="panel" style="padding:0px;
          {{#if op.enabled }}{{else}}opacity:0.3;{{/if}}
          ">
      <table>
</script>

<script id="params_op_foot" type="text/x-handlebars-template">

      </table>

  <div class="info " id="options_info" style="padding:0px;">
      {{op.uiAttribs.info}}
  </div>

  <br/>
  <div class="groupSpacer"><h3>Misc</h3></div>

  <div class="panel" >
      Comment:
      <textarea id="commentTextarea" style="height:60px;width:100%;" onInput="gui.opParams.setCurrentOpComment(this.value);" >{{op.uiAttribs.comment}}</textarea>

      <br/>
      <a onclick="gui.patchView.setOpColor('#07F78C')" style="background-color:#07F78C;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor('#F0D165')" style="background-color:#F0D165;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor('#f59259')" style="background-color:#f59259;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor('#dc5751')" style="background-color:#dc5751;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor('#db88ff')" style="background-color:#db88ff;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor('#5dc0fd')" style="background-color:#5dc0fd;" class="colorbutton"></a>
      <a onclick="gui.patchView.setOpColor(null)" style="background-color:#fff;" class="colorbutton icon-x icon"></a>

  </div>
  {{#if showDevInfos}}
      <br/>
      <div class="groupSpacer"><h3>Dev</h3></div>
      <div class="panel" >

          <table>
              <tr>
                  <td>op id</td>
                  <td><code>{{op.opId}}</code></td>
              </tr>
              <tr>
                  <td>op instance id </td>
                  <td><code>{{op.id}}</code></td>
              </tr>
              <tr>
                  <td>storage ref</td>
                  <td><code>{{op.storage.ref}}</code></td>
              </tr>
              <tr>
                  <td>subpatch</td>
                  <td><code>{{op.uiAttribs.subPatch}}</code></td>
              </tr>
              <tr>
                  <td>ui translate</td>
                  <td><code>{{op.uiAttribs.translate.x}},{{op.uiAttribs.translate.y}}</code></td>
              </tr>

              <!-- <tr>
                  <td>num instances</td>
                  <td><code>?</code></td>
              </tr> -->

          </table>

      </div>

      <div class="groupSpacer"><h3>Watch</h3></div>
      <div class="panel" >
          <span id="watchOpSerialized" tabindex="0" class="button">Serialized</span>
          <span id="watchOpUiAttribs" tabindex="0" class="button">UiAttribs</span>
          <span id="watchOpDocsJson" tabindex="0" class="button">OpDocs</span>

      </div>
  {{/if}}


  <br/><br/><br/>
</script>

<script id="params_ops" type="text/x-handlebars-template">
  <div class="panel">

    {{#if numOps}}
      <h3><a
          onclick="new CABLES.UI.FindTab(gui.mainTabs, ':selected');"
        >{{numOps}} ops selected</a></h3>
      {{#if mulSubs}}
        in multiple subpatches!
        <br />
      {{/if}}

      <hr />

      <a
        onclick="CABLES.CMD.PATCH.createOpFromSelection()"
        class="icon-button button-small"
        style="color: var(--color-special) !important;"
      ><span class="icon icon-subpatch icon-1_25x"></span>Create Op From
        Selection
      </a>
      <!-- <a onclick="CABLES.CMD.PATCH.createSubPatchFromSelection()" class="icon-button button-small "><span class="icon icon-subpatch icon-1_25x"></span>Create Subpatch</a> -->
      <br />
      <a
        onclick="CABLES.CMD.PATCH.createAreaFromSelection()"
        class="icon-button button-small"
      ><span class="icon icon-square icon-1_25x"></span>Create Area Around
        Selection</a>

      <hr />

      <a
        onclick="CABLES.CMD.PATCH.alignOpsLeft()"
        class="icon-button button-small info"
        data-info="Press `A` to align left"
      ><span class="icon icon-align-left icon-1_25x"></span>Align Left</a>
      <br />
      <a
        onclick="CABLES.CMD.PATCH.compressOps()"
        class="icon-button button-small info"
        data-info="Press `shift`+`A` to Compress Vertically"
      ><span class="icon icon-align-justify icon-1_25x"></span>Compress
        Vertically
      </a>
      <br />

      <hr />

      <a
        onclick="CABLES.CMD.PATCH.addSpaceX()"
        class="icon-button button-small"
      ><span class="icon icon-subpatch icon-1_25x"></span>Add space X</a>
      <br />
      <a
        onclick="CABLES.CMD.PATCH.addSpaceY()"
        class="icon-button button-small"
      ><span class="icon icon-square icon-1_25x"></span>Add space Y</a>

      {{#compare numOps "==" 2}}
        <br />
        <hr />
        <br />
        <a
          id="link_two_ops"
          onclick="CABLES.CMD.PATCH.linkTwoSelectedOps()"
          class="icon-button button-small"
        ><span class="icon icon-op icon-1_25x"></span><span
            class="icon icon-op icon-1_25x"
          ></span>Link two ops</a>
      {{/compare}}
      <br />

      <hr />
      Colorize:
      <br />
      <div style="margin-top:10px;">
        <a
          onclick="gui.patchView.setOpColor('#07F78C')"
          style="background-color:#07F78C;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor('#F0D165')"
          style="background-color:#F0D165;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor('#f59259')"
          style="background-color:#f59259;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor('#dc5751')"
          style="background-color:#dc5751;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor('#db88ff')"
          style="background-color:#db88ff;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor('#5dc0fd')"
          style="background-color:#5dc0fd;"
          class="colorbutton"
        ></a>
        <a
          onclick="gui.patchView.setOpColor(null)"
          style="background-color:#fff;"
          class="colorbutton icon-x icon"
        ></a>
      </div>
      <br /><br /><br />

      {{#if showDevInfos}}{{/if}}

      <!-- <a onclick="CABLES.CMD.PATCH.deleteSelectedOps()" class="icon-button button-small info" data-info="Press `del` to delete ops"><span class="icon icon-trash icon-1_25x"></span>Delete Ops </a> -->

    {{else}}
      <h2>no ops selected</h2>
    {{/if}}

  </div>
</script>

<script id="params_ports_head" type="text/x-handlebars-template">
  <tr>
    <td colspan="11" class="panelhead" data-panelselector=".opports_{{dirStr}}">
      <div class="groupSpacer"><h3>{{title}}</h3></div>
    </td>
  </tr>
</script>

<script id="params_port_general" type="text/x-handlebars-template">

  {{#if port.uiAttribs.spaceBefore }}
      <tr>
          <td></td>
      </tr>
  {{/if}}

  {{#if groupSpacer}}
      <tr>
          <td colspan="11" >
              <div class="groupSpacer">
                  {{startGroup}}
              </div>
          </td>
      </tr>
  {{/if}}

  <tr id="tr_{{ dirStr }}_{{ portnum }}" class="paramport_{{panelid}}_{{port.id}} {{#if port.uiAttribs.hideParam}}hide {{/if}}{{#if port.uiAttribs.greyout }}greyedout{{/if}} {{#if port.uiAttribs.group}}op-port-group{{/if}} opportgroup_{{port.uiAttribs.group}} opports_{{ dirStr }}" data-portname="{{port.name}}"   onmouseover="gui.opDocs.showPortDoc('{{op.objName}}','{{port.name}}');">


      {{#if port.uiAttribs.multiPort}}
          <td></td>
      {{else}}
          <td class="portType_{{ port.type }} disp_{{port.uiAttribs.display}}">
              {{#if port.uiAttribs.isAnimated}}&nbsp;&nbsp;&nbsp;<span class="icon icon-diamond icon-0_75x"></span>{{/if}}
              {{#if port.uiAttribs.expose}}<span>&nbsp;&nbsp;E{{port.uiAttribs.order}}</span>{{/if}}
              {{#if port.uiAttribs.boundToVar}}<span>&nbsp;&nbsp;V</span>{{/if}}
          </td>
      {{/if}}
      <td class="port {{#if port.links}}_linked{{/if}}" style="{{#if port.uiAttribs.hidePort }}box-shadow:none !important;{{/if}}" id="portLineTitle_{{ dirStr }}_{{ portnum }}"  data-portname="{{port.name}}" >







          <span id="portTitle_{{ dirStr }}_{{ portnum }}" data-opid="{{op.id}}" data-portname="{{port.name}}" class="{{#if port.uiAttribs.hidePort}}{{else}}paramsPortTitleClickable{{/if}} {{#if port.uiAttribs.axis}}axis{{ port.uiAttribs.axis }}{{/if}}">
              {{#compare port.uiAttribs.display '==' 'buttons' }}
              {{else}}
                  {{#compare port.uiAttribs.display '==' 'button' }}
                  {{else}}
                      {{#if port.uiAttribs.title }}
                      <i>{{port.uiAttribs.title}}</i>
                      {{else}}
                          {{port.name}}


                      {{/if}}
                  {{/compare}}
              {{/compare}}
          </span>

          {{#compare port.type '!=' '1' }}
              <span id="portTitle_{{ dirStr }}_{{ portnum }}_reset" class="param_reset reset_hidden  clickable" data-click="resetOpValues" data-opid="{{op.id}}" data-portname="{{port.name}}" >
                  <span class="icon icon-undo icon-0_75x"></span>
              </span>
          {{/compare}}

          <!-- numberinput-val -->

          {{#if port.uiAttribs.colorPick }}
              <div class="button_colorpick fright" tabindex="0" id="watchcolorpick_{{ dirStr }}_{{ portnum }}_{{ panelid }}"></div>
          {{/if}}

      </td>
      <td class="">
          {{#if port.links}}
              {{#if port.direction }}
              </td><td  style="overflow: hidden;text-overflow:ellipsis">
                  <table>
                  {{#each port.links}}
                      <tr>
                          <td>
                              <a class="info icon-x icon iconhover" data-info="{{ ../texts.portUnlink }}" id="portdelete_{{ ../dirStr }}_{{ ../portnum }}" style="vertical-align:bottom"></a>
                              <a class="clickable paramsPortLink" data-click="centerSelectOp" data-op="{{portIn.op.id}}" >{{ portIn.op.name }}</a><br/>
                          </td>
                      </tr>
                  {{/each}}
                  </table>
                  {{else}}
                      </td><td>
                  {{#each port.links}}
                      <a class="info icon-x icon iconhover" data-info="{{ ../texts.portUnlink }}" id="portdelete_{{ ../dirStr }}_{{ ../portnum }}" style="vertical-align:bottom"></a>
                      <a class="clickable paramsPortLink"  data-click="centerSelectOp" data-op="{{portOut.op.id}}" >{{ portOut.op.name }}</a><br/>
                  {{/each}}
              {{/if}}
          {{/if}}
</script>

<script id="params_port_general_end" type="text/x-handlebars-template">

  </td>

  <td class="contextmenuarea">
  <!-- animation/variable button -->

  {{#if isInput}}
      {{#if port.links}}
      {{else}}
          {{#compare port.type '==' 1 }}
          {{else}}

              {{#compare port.uiAttribs.display '==' 'switch' }}
              {{else}}
                  {{#compare port.uiAttribs.display '==' 'dropdown' }}
                  {{else}}

                      {{#if port.uiAttribs.isAnimated}}
                          <span class="button-small button-icon info clickable" data-click="showAnim" data-opid="{{op.id}}" data-portname="{{port.name}}">
                              <span class="icon icon-timeline"></span>
                          </span>
                      {{/if}}

                  {{/compare}}
              {{/compare}}

          {{/compare}}

      {{/if}}


  {{/if}}

  <a class="icon-three-dots icon iconhover" style="opacity:0.6" id="port_contextmenu_{{dirStr}}_{{portnum}}_{{panelid}}" data-portid="{{port.id}}"></a>




  </td>
  </tr>
</script>

<script id="params_port_input" type="text/x-handlebars-template">




  {{#if port.uiAttribs.useVariable}}
          </td><td>
          Var
          <select id="portsetvar_{{ portnum }}" data-portid="{{port.id}}">
              {{#compare 'unknown' '==' port.uiAttribs.variableName }}
                  <option value="">UNKNOWN</option>
              {{/compare}}
              {{#each vars}}
                  <option {{#compare _name '==' ../port.uiAttribs.variableName }} SELECTED="SELECTED" {{/compare}} value="{{ _name }}">#{{_name}}</option>
              {{/each}}
          </select>

          {{#compare port.type '==' 5 }} <span class="value valuetext linkedValue monospace watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" >{{port.port.getValueForDisplay}}</span>{{/compare}}
          {{#compare port.type '==' 0 }} <span class="value valuetext linkedValue monospace watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" >{{port.port.getValueForDisplay}}</span>{{/compare}}
      </td>

      {{else}}
      {{#if port.links}}

          {{#compare port.type '==' 5 }} <span class="value valuetext linkedValue monospace watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" >{{port.port.getValueForDisplay}}</span>{{/compare}}
          {{#compare port.type '==' 0 }} <span class="value valuetext linkedValue monospace watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" >{{port.port.getValueForDisplay}}</span>{{/compare}}

          {{#compare port.uiAttribs.display '==' 'button' }}
              <span class="{{#if port.uiAttribs.buttonTitleClass }}{{port.uiAttribs.buttonTitleClass}}{{else}}button button-small{{/if}}" id="portbutton_{{ portnum }}_{{ panelid }}" >
                  {{#if port.uiAttribs.buttonTitle }}
                      {{port.uiAttribs.buttonTitle}}
                  {{else}}
                      {{#if port.uiAttribs.title }}{{port.uiAttribs.title}}{{else}}{{port.name}}{{/if}}
                  {{/if}}
              </span>
          {{/compare}}

      {{else}}

              {{#if port.uiAttribs.multiPort}}
                  </td><td>

                      {{#if port.uiAttribs.multiPort}}Multiport {{/if}}

                      <span class="button-small" id="multiport_toggleauto_{{op.id}}_{{port.name}}">Toggle</span>

                      {{#if port.uiAttribs.multiPortManual}}
                          manual
                          <span class="button-small button-icon" id="multiport_dec_{{op.id}}_{{port.name}}">-</span>
                          <span class="button-small button-icon" id="multiport_inc_{{op.id}}_{{port.name}}">+</span>
                      {{else}}
                          auto
                      {{/if}}
                  </td>
              {{/if}}

              {{#if port.uiAttribs.display}}

                  {{#compare port.uiAttribs.display '==' 'bool' }}
              </td><td>
                          <span id="portcheckbox_{{ portnum }}_{{ panelid }}" class="checkbox-container {{#compare port.value '==' true }}checkbox-active{{/compare}}{{#compare port.value '==' false }}checkbox-inactive{{/compare}}">
                              <span style="height:20px;width:20px;" class="ccheckbox icon icon-check"></span>
                          </span>
                      <input autocomplete="off" class="value hidden" id="portval_{{ portnum }}_{{ panelid }}" value="{{#if port.value }}true{{else}}false{{/if}}" style="display:none;"/>
                  {{/compare}}

                  {{#compare port.uiAttribs.display '==' 'buttons' }}
                      </td><td>
                          {{#each port.value}}
                              <span tabindex="0" class="button-small" id="portbutton_{{ ../portnum }}_{{ ../panelid }}_{{@key}}" data-title="{{.}}">{{.}}</span>
                          {{/each}}
                  {{/compare}}

                  {{#compare port.uiAttribs.display '==' 'button' }}
                  </td><td>
                      <span tabindex="0"  class="{{#if port.uiAttribs.buttonTitleClass }}{{port.uiAttribs.buttonTitleClass}}{{else}}button{{/if}}" id="portbutton_{{ portnum }}_{{ panelid }}" >
                          {{#if port.uiAttribs.buttonTitle }}
                              {{port.uiAttribs.buttonTitle}}
                          {{else}}
                              {{#if port.uiAttribs.title }}{{port.uiAttribs.title}}{{else}}{{port.name}}{{/if}}
                          {{/if}}
                      </span>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'editor' }}
                  </td><td>
                      <a class="button-small" id="portedit_{{ dirStr }}_{{ portnum }}_{{ panelid }}" ><span class="icon icon-edit"></span>Edit</a>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'spreadsheet' }}
                  </td><td>
                      <a class="button-small" id="portspreadsheet_{{ dirStr }}_{{ portnum }}_{{ panelid }}" ><span class="icon icon-edit"></span>Edit</a>
                  {{/compare}}


                  {{#compare port.uiAttribs.display '==' 'range' }}
                      </td><td>
                      <!-- new value input2 !!! -->
                      <div
                          class="numberinput valuesliderinput tabable"
                          id="portval_{{ portnum }}_{{ panelid }}-container"
                          data-portnum="{{ portnum }}"
                          data-panelid="{{ panelid }}"
                          data-opid="{{op.id}}"
                          data-portname="{{ port.name }}"
                          onmouseover="gui.showInfo(CABLES.UI.TEXTS.valueChangerHover);"
                          tabindex="0"
                          {{#if port.uiAttribs.min}}data-min="{{port.uiAttribs.min}}"{{/if}} {{#if port.uiAttribs.max}}data-max="{{port.uiAttribs.max}}"{{/if}}>

                          <span class="numberinput-display" id="numberinputDisplay_{{ port.watchId }}_{{ panelid }}">{{ port.value }}</span>
                          <input autocomplete="off" data-portname="{{port.name}}" class="numberinput-value hidden watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" id="portval_{{ portnum }}_{{ panelid }}" value="{{ port.value }}"/>
                      </div>
                  {{/compare}}

                  {{#compare port.uiAttribs.display '==' 'dropdown' }}
                      </td><td>
                          <select oninput="ele.byId('portval_{{ portnum }}_{{ panelid }}').value=this.value;ele.byId('portval_{{ portnum }}_{{ panelid }}').dispatchEvent(new Event('input'));">
                              {{#compare '' '==' port.value }}
                                  <option value="">...</option>
                              {{/compare}}

                              {{#each port.uiAttribs.values}}
                                  <option {{#compare this '==' ../port.value }} SELECTED="SELECTED" {{/compare}} value="{{ this }}">{{#if ../port.uiAttribs.showIndex}}{{@key}} - {{/if}}{{ this }}</option>
                              {{/each}}
                          </select>
                          <input type="hidden" class="value" id="portval_{{ portnum }}_{{ panelid }}" value="{{ port.value }}" />
                  {{/compare}}

                  {{#compare port.uiAttribs._variableSelect '==' true }}

                      {{#if port.value}}
                      &nbsp;
                          <a class="button-small button-icon" onclick="gui.find('#{{port.value}}')"><span class="icon icon-search"></span></a>

                          {{#compare port.uiAttribs._variableSelectGet '==' true }}
                              <a class="button-small button-icon" onclick="gui.find('set #{{port.value}}')"><span class="icon icon-search"></span>Set</a>
                          {{/compare}}
                      {{/if}}
                  {{/compare}}
                  {{#compare port.uiAttribs._triggerSelect '==' true }}

                      {{#if port.value}}
                          &nbsp;
                          <a class="button-small button-icon" onclick="gui.find('trigger {{port.value}}')"><span class="icon icon-search"></span></a>
                      {{/if}}
                  {{/compare}}

                  {{#compare port.uiAttribs.display '==' 'switch' }}
                      </td><td>
                          <input class="value hide" type="hidden" id="portval_{{ portnum }}_{{ panelid }}" style="width:40px;" value="{{port.value}}"/>
                          <div class="radioToggle" id="portSwitch_{{ portnum }}_{{ panelid }}">
                              {{#each port.uiAttribs.values}}
                                  <label tabindex="0" id="label_{{ @index }}">
                                      <input type="radio" name="radio_portval_{{ ../portnum }}_{{ ../panelid }}" value="{{ this }}"{{#compare this '==' ../port.value }} CHECKED="CHECKED" {{/compare}}>
                                      <span>{{ this }}</span>
                                  </label>
                              {{/each}}
                          </div>

                          {{#if port.uiAttribs.info}}
                          <br/>
                              {{port.uiAttribs.info}}
                          {{/if}}

                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'readonly' }}
                  </td>
                  <td>
                      <span class="value monospace valuetext linkedValue">{{ port.value }}</span>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'gradient' }}
                      </td>
                      <td>
                          <span class="button gradienteditbutton" onclick="const ge=new CABLES.GradientEditor('{{op.id}}','{{port.name}}',{'openerEle':this});ge.show();">
                              <span class="icon icon-edit"></span>Edit</span>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'texture' }}
                      </td>
                      <td>
                          <a class="button-small button-icon clickable" data-click="addOpAndLink" data-opid="{{op.id}}" data-portname="{{port.name}}" ><span class="icon icon-plus-circle"></span></a>

                          {{#if port.uiAttribs.objType}}
                              <span class="objType tt" data-tt="Object type {{port.uiAttribs.objType}}">{{port.uiAttribs.objType}}</span>
                          {{/if}}

                      </td>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'sg_vec' }}
                      </td>
                      <td>
                          <a class="button-small button-icon" onclick="gui.patchView.addOpAndLink('Ops.Team.ShaderGraph.Input','{{op.id}}','{{port.name}}');"><span class="icon icon-plus-circle"></span></a>
                      </td>
                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'file' }}
                          {{#if openLocalFiles}}
                              <a class="icon icon-folder iconhover" onclick="CABLES.CMD.ELECTRON.openFileManager('{{port.value}}')"></a>
                          {{else}}
                              <a class="icon icon-external iconhover" href="{{ cablesUrl }}/asset/patches/?filename={{ port.value }}" target="_blank"></a>
                          {{/if}}
                          <a class="icon icon-download iconhover" href="{{ port.value }}" target="_blank" download></a>
                          <a class="icon icon-text-cursor-input iconhover" onclick="ele.byId('portFilenameButton_{{ portnum }}').classList.toggle('hidden');ele.byId('fileInputContainer_{{ portnum }}').classList.toggle('hidden');" target="_blank" ></a>
                      </td>
                      <td>
                          <span id="portFilenameButton_{{ portnum }}">
                              <span
                                  id="portFilename_{{ portnum }}"
                                  onclick="document.getElementById('portFilename_{{ portnum }}_src').innerHTML='';document.getElementById('fileInputContainer_{{ portnum }}').classList.remove('hidden');this.classList.add('hidden');CABLES.platform.showFileSelect('.portFileVal_{{ portnum }}',{{#if port.uiAttribs.filter}}{{json port.uiAttribs.filter}}{{else}}null{{/if}},'{{ port.op.id }}','portFileVal_{{ portnum }}_preview');"
                                  style="cursor:pointer;">[???]</span>

                              <span id="portFilename_{{ portnum }}_src"></span>
                          </span>

                          <span id="fileInputContainer_{{ portnum }}" class="hidden">
                              <input autocomplete="off" class="value filevalue portFileVal_{{ portnum }} watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" id="portval_{{ portnum }}_{{ panelid }}" value="{{ port.value }}" style="width:90%;display:inline-block;"/>
                          </span>


                  {{/compare}}
                  {{#compare port.uiAttribs.display '==' 'text' }}
                      </td><td>
                          <textarea class="value watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} info" id="portval_{{ portnum }}_{{ panelid }}">{{port.value}}</textarea>
                  {{/compare}}
              {{else}}
                  {{#compare port.type '==' '5' }}
                          </td>
                      <td>
                      <!-- string -->
                      <input spellcheck="false" class="tabable value watchPort watchPortValue_{{ port.watchId }}_{{ panelid }}" data-portnum="{{ portnum }}" data-panelid="{{ panelid }}" id="portval_{{ portnum }}_{{ panelid }}" value="{{port.value}}" style="width:90%;"/>
                  {{/compare}}

                  {{#compare port.type '==' '1' }} </td><td>[trigger]
                  {{/compare}}
                  {{#compare port.type '==' 0 }}
                      </td><td>
                              <!-- new value input2 -->
                              <div
                                  tabindex="0"
                                  class="numberinput tabable valueinputtype-{{ port.uiAttribs.type }} {{#if port.uiAttribs.increment }}inc_int{{/if}}"
                                  data-portnum="{{ portnum }}"
                                  data-panelid="{{ panelid }}"
                                  data-opid="{{op.id}}"
                                  data-portname="{{ port.name }}"
                                  data-portname="{{ port.name }}"
                                  id="portval_{{ portnum }}_{{ panelid }}-container"

                                  onmouseover="gui.showInfo(CABLES.UI.TEXTS.valueChangerHover);">
                                  <span class="numberinput-display" id="numberinputDisplay_{{ port.watchId }}_{{ panelid }}">{{ port.value }}</span>
                                  <input autocomplete="off" class="numberinput-value hidden watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} {{#if port.uiAttribs.increment }}inc_int{{/if}}" data-valuetype="{{ port.uiAttribs.type }}" id="portval_{{ portnum }}_{{ panelid }}" value="{{ port.value }}"/>
                              </div>
                          {{/compare}}
                          {{#compare port.type '==' 3}}
                              {{#if port.uiAttribs.multiPort}}
                              {{else}}
                                  </td><td>
                                      <span class="value valuetext watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} inspectable" >Array{{#if port.uiAttribs.stride}}{{port.uiAttribs.stride}}{{/if}}</span>
                              {{/if}}
                          {{/compare}}
                          {{#compare port.type '==' 2}}
                      </td>
                      <td>
                          <span class="value valuetext watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} inspectable" >
                              {{#if port.uiAttribs.objType}}
                                  <span class="objType tt" data-tt="Object type {{port.uiAttribs.objType}}">{{port.uiAttribs.objType}}</span>
                              {{/if}}
                          </span>
                  {{/compare}}
                  {{#compare port.type '==' 4}}

                  {{/compare}}
              {{/if}}
          {{/if}}
      {{/if}}
</script>

<script id="params_port_output" type="text/x-handlebars-template">

  <!--  --------- outputs ---------- -->
  {{#if port.links}}
      {{else}}
      </td><td>
  {{/if}}



  {{#compare port.type '==' 0 }}
      <span data-portname="{{port.name}}" data-opid="{{op.id}}" class="value valuetext portCopyClipboard watchPort linkedValue monospace watchPortValue_{{ port.watchId }}_{{ panelid }}" >
          {{port.port.getValueForDisplay}}
      </span>
  {{/compare}}

  {{#compare port.type '==' 5 }}
      <span data-portname="{{port.name}}" data-opid="{{op.id}}" class="value valuetext watchPort  portCopyClipboard linkedValue monospace watchPortValue_{{ port.watchId }}_{{ panelid }}">{{port.port.getValueForDisplay}}</span>
      <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="new CABLES.UI.TabPortObjectInspect('{{op.id}}','{{port.name}}');"><span class="icon icon-search"></span></span><br />
  {{/compare}}

  {{#compare port.type '==' 3 }}
      <span class="value valuetext watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} inspectable" >Array </span>

      <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="gui.watchArray('{{op.id}}','{{port.name}}');"><span class="icon icon-align-justify"></span></span>

      <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="new CABLES.UI.TabPortObjectInspect('{{op.id}}','{{port.name}}');"><span class="icon icon-search"></span></span>
      <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="gui.opPortModal.showJsonStructure('{{op.id}}','{{port.name}}');"><span class="icon icon-settings"></span></span><br/>

      {{#if port.uiAttribs.multiPort}}
          <br>
          <span class="button-small" id="multiport_toggleauto_{{op.id}}_{{port.name}}">toggle</span>

          {{#if port.uiAttribs.multiPortManual}}
              manual
              <span class="button-small button-icon " id="multiport_dec_{{op.id}}_{{port.name}}">-</span>
              <span class="button-small button-icon " id="multiport_inc_{{op.id}}_{{port.name}}">+</span>
          {{else}}
              auto
          {{/if}}
      {{/if}}

  {{/compare}}
  {{#compare port.type '==' '2' }}

      {{#if port.links}}
          <br/>
          {{else}}
      {{/if}}

      {{#if port.uiAttribs.objType}}
          <span class="fleft" >
              <span class="objType tt" data-tt="Object type {{port.uiAttribs.objType}}">{{port.uiAttribs.objType}}</span>

          {{#compare port.uiAttribs.objType '==' 'texture' }}
              {{port.port.get.shortInfoString}}
              &nbsp;<span class="button-small button-icon info" data-info="Watch texture data" onclick="gui.watchArray('{{op.id}}','{{port.name}}');"><span class="icon icon-align-justify"></span></span>

              <a class="button-small button-icon"  onclick="gui.patchView.addOpAndLink(CABLES.UI.DEFAULTOPNAMES.defaultOpVizTexture,'{{op.id}}','{{port.name}}');"><span class="icon icon-eye"></span></a>
          {{/compare}}

          </span>
      {{/if}}

      {{#if port.uiAttribs.preview}}

      {{else}}
          <span class="value valuetext watchPort watchPortValue_{{ port.watchId }}_{{ panelid }} inspectable" >
          </span>
          <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="new CABLES.UI.TabPortObjectInspect('{{op.id}}','{{port.name}}');"><span class="icon icon-search"></span></span>
          <span class="button-small button-icon info" data-info="{{ texts.portObjectSnapshot }}" onclick="gui.opPortModal.showJsonStructure('{{op.id}}','{{port.name}}');"><span class="icon icon-settings"></span></span><br/>
      {{/if}}
  {{/compare}}
</script>

<script id="patch_summary" type="text/x-handlebars-template">
      <div class="panel params_op_head panel_head patch_summary">

          <h2 class="nomargin" style="margin-bottom:10px !important;">

              {{#if isTrustedPatch}}{{else}}<span class="icon icon-ban tt" data-tt="no write access"></span>{{/if}}

              {{#compare project.summary.visibility '==' 'unlisted'}}<span class="tt icon icon-eye" data-tt="unlisted patch"></span>{{/compare}}
              {{#compare project.summary.visibility '==' 'view_only'}}<span class="tt icon icon-eye" data-tt="view only patch"></span>{{/compare}}
              {{#compare project.summary.visibility '==' 'private'}}<span class="tt icon icon-lock" data-tt="private patch"></span>{{/compare}}
              {{#compare project.summary.visibility '==' 'public'}}<span class="tt icon icon-globe" data-tt="public patch"></span>{{/compare}}
              <b style="color:var(--color-13)">
                  {{#if frontendOptions.showSetProjectTitle }}
                      {{#if project.summary.allowEdit }}
                          <a onclick="gui.patchView.store.showModalTitleDialog()">{{project.summary.title}}</a>
                      {{else}}
                          {{project.summary.title}}
                      {{/if}}
                  {{else}}
                      {{project.summary.title}}
                  {{/if}}
              </b>{{#if project.summary.owner.username }} by <a target="_blank" href="{{cablesUrl}}/user/{{project.summary.owner.username}}">{{project.summary.owner.username}}{{/if}}</a>
          </h2>


          {{#if project.summary.description}}
              {{md project.summary.description}}
              <br/><br/>
          {{/if}}


          {{#if project.summary.licence}}
              {{#compare port.uiAttribs.display '!=' 'none' }}
                  {{#compare project.summary.licence.name '!=' 'No licence chosen' }}
                      <b>Licence</b>:
                      {{#if project.summary.licence.link}}
                          <a href="{{project.summary.licence.link}}" class="link" target="_blank">{{project.summary.licence.name}}</a>
                      {{else}}
                          {{project.summary.licence.name}}
                      {{/if}}
                      <br/>{{project.summary.licence.description}}
                      <br/><br/>
                  {{/compare}}
              {{/compare}}
          {{/if}}

          {{#if project.teams}}
              Teams:
              {{#each project.teams}}
                  {{#unless @first}}, {{/unless}}
                  <a href="{{../cablesUrl}}{{link}}" target="_blank" class="link">{{name}}</a>
              {{/each}}
              <br/><br/>
          {{/if}}
          {{#if project.summary.patchLists}}
              Lists:
              {{#each project.summary.patchLists}}
                  {{#unless @first}}, {{/unless}}
                  <a href="{{../cablesUrl}}{{link}}" target="_blank" class="link">{{name}}</a>
              {{/each}}
              <br/><br/>
          {{/if}}

          {{#if project.summary.exampleForOps }}
              Op Example patch for:<br/>
              {{#each project.summary.exampleForOps}}
                  <a target="_blank" href="{{../cablesUrl}}/op/{{.}}"> {{opLayout . }}</a>
              {{/each}}
              <br/><br/>
          {{/if}}


          {{#if project.summary.isTest }}
              <a target="_blank" href="{{cablesUrl}}/tests/{{project.shortId}}" class="button-small">Run Test </a>
              <br/><br/>
          {{/if}}

          <div>
              {{#if frontendOptions.hasCommunity}}
                  <a class="iconbutton info" aria-label="settings" id="btn_patch_settings" data-info="summary_settings"><span class="icon icon-settings"></span></a>
              {{/if}}
              <a class="iconbutton info" aria-label="analyze patch"  id="btn_analyze_patch" data-info="summary_analyze"><span class="icon icon-pie-chart"></span></a>

              {{#if frontendOptions.hasCommunity}}
                  <a class="iconbutton" id="btn_toggle_patch_like" aria-label="favs"><span class="icon icon-heart{{#if project.summary.isFav}}-fill{{/if}}"></span>{{project.summary.numFavs}}</a>
              {{/if}}
              {{#if frontendOptions.hasCommunity}}
                  <a class="iconbutton" target="_blank" aria-label="open in new window" href="{{cablesUrl}}/p/{{project.shortId}}"><span class="icon icon-external"></span></a>
              {{/if}}
              {{#if frontendOptions.openLocalFiles}}
                  <a class="iconbutton info" id="btn_patch_opendir" aria-label="open folder" data-info="electron_openfolder"><span class="icon icon-folder"></span></a>
              {{/if}}
          </div>

      </div>



  {{#if sameHost}}
  {{else}}
      <div class="warning-error warning-error-level0">
          Patch was last saved on a different environment: <a class="link" href="{{patchHost}}" target="top">{{patchHost}}</a>
      </div>
  {{/if}}
</script>

<script id="sc_userlist" type="text/x-handlebars-template">
  <div class="sc-userlist">
  {{#each clients}}
      {{#if isRemoteClient}}
          <div class="tt item remote-client" data-client-id="{{clientId}}" data-tt="{{username}}">
              <div style="background-image:url({{../cablesurl}}/api/avatar/{{userid}});" class="avatar"></div>
              {{#if platfrom}}
                  {{#if platform.isMobile}}
                      <div class="greyicon"><span class="icon icon-smartphone icon-0_75x"></span></div>
                  {{else}}
                      <div class="greyicon"><span class="icon icon-remoteviewer icon-0_75x"></span></div>
                  {{/if}}
              {{else}}
                  <div class="greyicon"><span class="icon icon-remoteviewer icon-0_75x"></span></div>
              {{/if}}
          </div>
      {{else}}
          <div class="tt item" data-client-id="{{clientId}}" data-tt="{{username}}">
              <!-- <div class="cursorcolor" style=""></div> -->

              <div style="background-image:url({{../cablesurl}}/api/avatar/{{userid}});" class="avatar"></div>
              <div class="piloticon"><span class="icon icon-edit icon-0_75x"></span></div>
              <div class="followicon"><span class="icon icon-eye icon-0_75x"></span></div>
              <div class="followingicon"><span class="icon icon-eye"></span></div>
          </div>
      {{/if}}
  {{/each}}
  </div>
  <div class="sc-options">
  {{#if multiplayerCapable}}
      <span class="tt button-small loading-button" data-tt="Waiting for patch synch">Loading...</span>
      <!--
      <span class="tt button-small start-button" data-tt="Start multiplayer session">Start Multiplayer</span>
      <span class="tt button-small join-button" data-tt="Join multiplayer session">Join</span>
      <span class="tt button-small leave-button" data-tt="Leave multiplayer session">Leave</span>
      -->
  {{/if}}
  {{#if showMoreOptions}}
      <a class="tt icon icon-three-dots iconhover more-options" data-tt="More Options"></a>
  {{/if}}
  </div>
</script>

<script id="select_project" type="text/x-handlebars-template">
  <div class="projectsearch">

    <div style="padding-left:25px;padding-right:25px;">
      <input
        id="projectsearch"
        class="medium info"
        placeholder="filter patches"
      />
    </div>

    <br />
    <style id="search_style"></style>

    <div class="projectsearchresults">
      {{#each projects}}
        <div
          class="thumbcont searchresult searchable"
          data-projid="{{_id}}"
          data-index="{{name}}"
          onclick="document.location.href='#/project/{{_id}}'"
        >
          <div
            style="background-color:black;width:180px;height:100px;background-image:url(/project/{{_id}}/screenshot.png);background-repeat:no-repeat;background-size:100%;background-position:center center;"
          ></div>
          <div class="title">
            {{name}}

            {{#if isPrivate}}
              &nbsp;<i class="icon icon-lock"></i>
            {{/if}}

          </div>
        </div>
      {{/each}}
    </div>

  </div>
</script>

<script id="suggestions" type="text/x-handlebars-template">

  {{#if showSelect}}<div id="suggestionOpSelect" class="opSelect" onclick="CABLES.UI.suggestions.showSelect();" >+</div>{{/if}}
  {{#each suggestions}}
      <div class="suggestion {{#if recommended}}recommended-suggestion{{/if}}" id="suggestion{{id}}" onClick="CABLES.UI.suggestions.action({{id}});" style="transform:rotate({{rot}}deg);margin-left:{{left}}px;margin-top:{{top}}px;transform-origin:center left;">

          {{#if classname}}
              <span class="{{classname}}"></span>
          {{/if}}

          {{shortName}}
          {{#if isBoundToVar}}[##]{{/if}}
          {{#if isAnimated}}[/\]{{/if}}
      </div>
  {{/each}}
</script>

<script id="tab_chat" type="text/x-handlebars-template">
  <div class="tabContentScrollContainer">

    <div id="netactivity">
      Traffic - In:
      <span id="netactivityIn"></span>
      - Out:
      <span id="netactivityOut"></span>
    </div>
    <h3>Clients</h3>
    <div id="chat-clientlist"></div>

    <hr />
    <h3>Chat</h3>
    <div id="chatmsgs"></div>
    <input type="text" id="newchatmsg" />
    <a
      onclick="gui.socket.chat.send(document.getElementById('newchatmsg').value);document.getElementById('newchatmsg').value='';"
      class="button"
    >send</a>
  </div>
</script>

<script id="chat_clientlist" type="text/x-handlebars-template">
  <table>
    {{#each clients}}
      {{#if isRemoteClient}}{{else}}
        <tr>
          <td>
            <span
              style="display:inline-block;width:12px;height:12px;border-radius:20px;background-color:rgb({{color.rb}},{{color.gb}},{{color.bb}});"
            ></span>
          </td>
          <td>
            {{username}}
          </td>
          <td>
            {{#if isMe}} (me) {{/if}}
            {{#if lost}}timeout??{{/if}}
          </td>
        </tr>
      {{/if}}
    {{/each}}
  </table>
</script>

<script id="tab_electron_opdirs" type="text/x-handlebars-template">
  <div class="tabContentScrollContainer">
    <h2>Op Directories</h2>
    Manage directories from where to pick Ops in this project.
    <br /><br />
    If multiple Ops with the same name exist,<br />
    the Op will be loaded from the directory higher on this list.
    <br /><br />
    <a
      id="addOpProjectDir"
      class="button-small button-icon tt info"
      data-info="add op dir"
      data-tt="add op dir"
    ><span class="icon icon-file-plus"></span>Add Directory</a>
    <a
      id="addOpPackage"
      class="button-small button-icon tt info"
      data-info="add op package"
      data-tt="add op package"
    ><span class="icon icon-file-plus"></span>Add Package</a>

    <br /><br />
    {{#if dirs}}
      <div id="dirlist" class="dragList draggable">
        {{#each dirs}}
          <div class="draggable" data-id="{{@index}}" data-dir="{{dir}}">
            {{#unless fixedPlace}}<span
                class="handle icon-grip icon icon-0_75x draggable"
                style="float: none;"
              ></span>{{/unless}}
            <span class="dir">{{dir}}</span>
            <div class="controls">
              using
              <span class="usedOps">{{numUsedOps}}</span>
              of
              <span class="ops">{{numOps}}</span>
              ops&nbsp;
              <a
                class="icon icon-folder icon-0_75x"
                onclick="CABLESUILOADER.talkerAPI.send('openDir', { 'dir': '{{dir}}'});"
              ></a>&nbsp;
              {{#unless fixedPlace}}<a
                  class="removeOpProjectDir icon icon-x icon-0_75x"
                  data-dir="{{dir}}"
                ></a>{{/unless}}
            </div>
          </div>
        {{/each}}
        <div class="highlightBlock info hidden" style="margin-top: 20px;"></div>
      </div>
    {{/if}}
  </div>
</script>

<script id="tab_find" type="text/x-handlebars-template">

  <div class="tabContentScrollContainer">

      <div id="tabsearchbox" class="tabsearchbox">
          <input class="medium notIgnoreEscape" id="{{inputid}}" autocomplete="off" style="margin:4px;width:95%;" type="search">
          <input class="hidden" id="{{inputid}}_toggles" autocomplete="off"  type="search">
      </div>

      <br/>
      Find Ops:&nbsp;

      {{#each toggles}}
          <a class="findToggle" data-togglestr=":{{.}}" id="{{../inputid}}_{{.}}" >{{.}}</a>
      {{/each}}

      {{#each colors}}
          &nbsp;<a onclick="gui.find(':color={{.}}')" style="background-color:{{.}};color:black;" class="button-small">color</a>
      {{/each}}

      <br/><br/>

      <div id="tabsearchresult" class="tabSearchResultsContainer"></div>
      <div id="ophistory" class=""></div>

  </div>
</script>

<script id="filemanager_header" type="text/x-handlebars-template">

  <div class="filemanager_header">
      <div style="width:1000px;overflow:hidden;padding:5px;">
          <span class="divider"></span>

          <a class="fileManagerSource {{#compare source '==' 'patch' }}activeFileManagerSource{{/compare}}" onclick="gui.fileManager.setSource('patch');" class="info" data-info="file_source_patch">Patch Files</a>
          <a class="fileManagerSource {{#compare source '==' 'lib' }}activeFileManagerSource{{/compare}}" onclick="gui.fileManager.setSource('lib');" class="info" data-info="file_source_lib">Library Files</a>

          <span class="divider"></span>

          <span class="iconbutton info" data-info="filemanager_file_refresh" onclick="gui.refreshFileManager();">
              <i class="icon icon-refresh"></i>
          </span>

          {{#if frontendOptions.showAssetUpload }}
              <span class="iconbutton info" data-info="filemanager_file_upload" onclick="CABLES.CMD.PATCH.uploadFileDialog();">
                  <i class="icon icon-upload"></i>
              </span>
          {{else}}
              <span class="iconbutton info" data-info="filemanager_file_add" onclick="CABLES.CMD.PATCH.uploadFileDialog();">
                  <i class="icon icon-file"></i>
              </span>
          {{/if}}

          <span class="iconbutton info" data-info="filemanager_file_create" onclick="CABLES.CMD.PATCH.createFile();">
              <i class="icon icon-file-plus"></i>
          </span>

          <span class="divider"></span>

          <span id="switch-display-icons" class="switch switch-left {{#compare display '==' 'icons' }}switch-active{{/compare}}">
              <i class="icon icon-grid"></i>
          </span>
          <span id="switch-display-list" class="switch switch-right {{#compare display '==' 'list' }}switch-active{{/compare}}">
              <i class="icon icon-menu"></i>
          </span>

          <span class="divider"></span>

          <input id="filefilter" type="search" class="medium" autocomplete="off" oninput="gui.fileManager.setFilter(this.value)" style="margin:0px;width:100px;border:1px solid #aaa;padding:4px !important;font-size:13px;" placeholder="Filter..." value="{{filter}}">
      </div>
  </div>

  {{#if fileSelectOp}}
      <span style="border:2px solid var(--color-special);padding:7px;border-radius:10px;cursor:pointer;display: block;margin-top: 20px;margin-bottom: 20px;text-align:center;" onclick="gui.fileManager.setFilePort(null);">
          Selection mode for: <b>{{fileSelectOp.objName}}</b>  {{#if filterType}} / {{filterType}} {{/if}}
          <span class="icon icon-x"></span>
      </span>
  {{/if}}
</script>

<script id="tab_itemmanager" type="text/x-handlebars-template">
  <div id="filemanagercontainer" style="height:99%">
      <div id="itemmanager_header" class=""></div>
      <div class="filelistcontainer">
          {{#each items}}
              {{#if divider}}
                  <div style="clear:both"></div>
                  <div style="border-bottom:1px solid var(--color-07);margin-bottom:5px;" class="text-center">
                      {{#if ../frontendOptions.openLocalFiles}}
                          <h2>{{divider}}{{#unless isLibraryFile}}&nbsp;<a onclick="CABLESUILOADER.talkerAPI.send('openDir', { 'dir': '{{p}}'});"><span class="icon icon-folder"></span></a>{{/unless}}</h2>
                      {{else}}
                          <h1>{{divider}}</h1>
                      {{/if}}
                  </div>
              {{else}}
                  <div class="tt info fileFilterable item item-container {{#if selected}} selected {{/if}} draggable {{#if isLibraryFile}} library{{/if}} " id="item{{id}}" draggable="true" ondragstart="CABLES.DragNDrop.startDragLibraryFile(event,'{{p}}');" data-info="dragfile" data-searchable="{{title}}" data-tt="{{title}}">

                      {{#if preview}}
                          <div class="preview bgPatternDark info" data-info="dragfile" style="width:90%;height:calc(90% - 22px);;background-color:#777;">
                              <div class="info" data-info="dragfile" style="background-image:url('{{preview}}');width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center center;">
                              </div>
                          </div>
                      {{else}}
                          <div class="preview info text-center" data-info="dragfile" style="width:90%;height:calc(90% - 22px);;background-color:#555;">
                              <br/>
                              <span data-info="dragfile"  class="icon icon-{{icon}} icon-4x info"></span>
                          </div>
                      {{/if}}

                      {{#if isReference}}
                      <div style="position:absolute;width:12px;height:12px;margin-top:-18px;margin-left:6px;">
                          <span data-info="dragfile" class="icon icon-file-symlink info"></span>
                      </div>
                      {{/if}}


                      <div class="filename">{{{shortTitle}}}</div>
                  </div>
              {{/if}}
          {{/each}}
          <div style="clear:both"></div>
      </div>
      <div id="item_details"></div>
  </div>
</script>

<script id="tab_itemmanager_list" type="text/x-handlebars-template">
  <div id="itemmanager_header"></div>
  <div class="filelistcontainer">
      <table class="table">
          {{#if showHeader}}
          <tr>
              <th width="30" onclick="gui.fileManager.setOrder('type');" style="cursor:pointer;"><span class="icon icon-file"></span></th>
              <th onclick="gui.fileManager.setOrder('name');" style="cursor:pointer;">
                  Filename
                  {{#compare order '==' 'name' }}{{#if orderReverse}}<span class="icon icon-arrow-up "></span>{{else}}<span class="icon icon-arrow-down "></span>{{/if}}{{/compare}}
              </th>
              <th onclick="gui.fileManager.setOrder('size');" style="cursor:pointer;">
                  Size
                  {{#compare order '==' 'size' }}{{#if orderReverse}}<span class="icon icon-arrow-up "></span>{{else}}<span class="icon icon-arrow-down "></span>{{/if}}{{/compare}}
                  </th>
              <th onclick="gui.fileManager.setOrder('date');" style="cursor:pointer;">
                  Changed
                  {{#compare order '==' 'date' }}{{#if orderReverse}}<span class="icon icon-arrow-up "></span>{{else}}<span class="icon icon-arrow-down "></span>{{/if}}{{/compare}}
                  </th>
          </tr>
          {{/if}}
          {{#each items}}
              {{#if divider}}
                  <tr>
                      <td colspan="100">
                          <div style="border-bottom:1px solid var(--color-07);margin-bottom:5px;" class="text-center">
                              {{#if ../frontendOptions.openLocalFiles}}
                                  <h2>{{divider}}{{#unless isLibraryFile}}&nbsp;<a onclick="CABLESUILOADER.talkerAPI.send('openDir', { 'dir': '{{p}}'});"><span class="icon icon-folder"></span></a>{{/unless}}</h2>
                              {{else}}
                                  <h1>{{divider}}</h1>
                              {{/if}}
                          </div>
                      </td>
                  </tr>
              {{else}}
                  <tr class="fileFilterable" data-searchable="{{title}}" id="itemrow{{id}}">
                      <td><span class="icon icon-{{icon}} "></span></td>
                      <td><div id="item{{id}}" draggable="true" ondragstart="CABLES.DragNDrop.startDragLibraryFile(event,'{{p}}');" class="draggable listitem item {{#if selected}} selected {{/if}} {{#if isLibraryFile}} library{{/if}}">{{title}}</div>
                      </td>
                      <td>{{sizeKb}}</td>
                      <td>{{relativedate updated}}</td>
                      <td>{{#if isReference}}reference{{/if}}</td>

                  </tr>
              {{/if}}
          {{/each}}
      </table>
  </div>
  <div id="item_details"></div>
</script>

<script id="filemanager_details_lib" type="text/x-handlebars-template">
  <div class="filemanager-detail-element">
    <div>

      <a
        class="iconbutton info"
        data-info="filemanager_file_download"
        download
        href="{{filename}}"
      >
        <span class="icon icon-1x icon-download"></span>
      </a>
      <span
        class="iconbutton info"
        data-info="filemanager_file_search"
        onclick="gui.find('{{filename}}')"
      >
        <a class="icon icon-1x icon-search"></a>
      </span>

    </div>
  </div>

  <div class="filemanager-detail-element">
    <div style="padding:10px;">
      <div class=""><b>Author:</b> {{fileInfo.author}}</div>
      <div class=""><b>License:</b> {{fileInfo.license}}</div>
      {{#if fileInfo.originalUrl}}
        <div class=""><b>Original URL:</b>
          <a
            class="link"
            href="{{fileInfo.originalUrl}}"
            target="_blank"
          >{{fileInfo.originalUrl}}</a></div>
      {{/if}}
    </div>
  </div>
</script>

<script id="filemanager_details_lib_audio" type="text/x-handlebars-template">
  <div class="filemanager-detail-element">
    <div style="padding:10px;">

      <a
        class="iconbutton info"
        data-info="filemanager_file_download"
        download
        href="{{filename}}"
      >
        <span class="icon icon-1x icon-download"></span>
      </a>
      <span
        class="iconbutton info"
        data-info="filemanager_file_search"
        onclick="gui.find('{{filename}}')"
      >
        <a class="icon icon-1x icon-search"></a>
      </span>

    </div>
  </div>

  <div class="filemanager-detail-element">
    <div style="padding:10px;">
      <div class=""><b>Artist:</b> {{fileInfo.artist}}</div>
      <div class=""><b>Title:</b> {{fileInfo.title}}</div>
      <div class=""><b>Artist Page:</b> {{fileInfo.artistLink}}</div>
      <div class=""><b>License:</b> {{fileInfo.license}}</div>
      <div class=""><b>Original URL:</b> {{fileInfo.originalUrl}}</div>

      <div class=""><b>Length:</b> {{fileInfo.length}}</div>
      <div class=""><b>Bitrate:</b> {{fileInfo.bitrate}}</div>
      <div class=""><b>Type:</b> {{fileInfo.audioType}}</div>
    </div>
  </div>
</script>

<script id="filemanager_details" type="text/x-handlebars-template">

  <div class="filemanager-detail-element">

      {{#if file.imgPreview}}
          <img src="{{file.imgPreview}}" style="height:auto;max-width:100%;"/>
      {{else}}
          No preview!!
      {{/if}}

  </div>
  <div class="filemanager-detail-element">

      <div style="padding-left:10px;">

          <a class="iconbutton info" data-info="filemanager_file_download" download href="{{downloadUrl}}">
              <span class="icon icon-1x icon-download"></span>
          </a>
          {{#if frontendOptions.showAssetExternalLink}}
          <a class="iconbutton info" data-info="filemanager_file_open" target="_blank" href="{{assetPageUrl}}">
              <span class="icon icon-1x icon-external"></span>
          </a>
          {{/if}}

          {{#if frontendOptions.showLocalAssetDirOpen}}
          <a class="iconbutton info" data-info="filemanager_file_open" target="_blank" onclick="CABLES.CMD.ELECTRON.openFileManager('{{downloadUrl}}')">
              <span class="icon icon-1x icon-folder"></span>
          </a>
          {{/if}}

          <span class="iconbutton info" data-info="filemanager_file_search" onclick="gui.find('{{assetPath}}')">
              <a class="icon icon-1x icon-search"></a>
          </span>

          <span class="iconbutton info" data-info="filemanager_copy_file_url" id="filecopyurl{{file.fileDb._id}}">
              <a class="icon icon-1x icon-copy"></a>
          </span>

          {{#if isEditable}}
              <span class="iconbutton info" data-info="filemanager_edit_file" id="fileedit{{file.fileDb._id}}">
                  <a class="icon icon-1x icon-edit"></a>
              </span>
          {{/if}}

          <span class="iconbutton info" data-info="filemanager_reupload" id="fileReUpload{{file.fileDb._id}}" {{#if frontendOptions.isElectron}}data-file-path="{{file.fileDb.path}}"{{/if}} onclick="CABLES.CMD.PATCH.reuploadFile('{{file.fileDb._id}}', '{{file.fileDb.fileName}}');">
              <a class="icon icon-1x icon-upload"></a>
          </span>


          <br/><br/>

          {{#if isReference}}
          reference:
          {{/if}}
          <b style="word-break: break-all;">{{file.fileDb.fileName}}</b>

          <br/>



          {{#if isPlatformCommunity}}
              {{#if isReference}}
                  {{#if isLibraryFile}}{{else}}
                      <br/>
                      <a class="button-small" href="{{projectUrl}}" target="_blank"><span class="icon icon-file-symlink"></span>Original patch</b></a>
                  {{/if}}
              {{/if}}
          {{/if}}
          {{#if referenceCount}}
              <br/>
              <a class="button-small" href="{{assetPageUrl}}" target="_blank">
                  <span class="icon icon-file-symlink"></span>
                  Show referencing patches</a>
          {{/if}}

          {{#compare source '==' 'patch' }}
              <br/><br/>
              {{#if file.imgSizeWidth}}
                      {{file.fileDb.type}}: {{ file.imgSizeWidth }} x {{ file.imgSizeHeight }} ({{file.sizeReadable}})
                  {{else}}
                      {{file.fileDb.type}} ({{file.sizeReadable}})
              {{/if}}

              <br/><br/>
              last change: {{relativedate file.fileDb.updated}}<br/>

          {{/compare}}
      </div>
  </div>
  <div class="filemanager-detail-element">
      {{#if file.ops}}
          File Ops
          <br/><br/>
          {{#each file.ops}}
              <a class="button" onclick="gui.patchView.addAssetOpAuto('{{../assetPath}}')"><span class="icon icon-plus-circle"></span>add <b>{{.}}</b></a>
              <br/><br/>
          {{/each}}
      {{/if}}

      {{#if file.converters}}
          File Tools
          <br/><br/>
          {{#each file.converters}}
              <a class="button" onclick="gui.showConverter('{{ id }}','{{ ../file.fileDb.projectId }}','{{ ../file.fileDb._id }}','{{ name }}', '{{ ../file.fileDb.name }}');"><span class="icon icon-refresh"></span>{{ name }}</a>
              <br/>
          {{/each}}
      {{/if}}

      {{#compare source '==' 'patch' }}
      {{#if isReference}}
      {{else}}
      <br/><br/>
      <span class="button" data-info="filemanager_delete_file" id="filedelete{{file.fileDb._id}}">
          <a class="info icon icon-1x icon-trash"></a>Delete File

      </span>
      {{/if}}
  {{/compare}}
  </div>
  <div style="clear:both;"></div>
</script>

<script id="tab_jobs" type="text/x-handlebars-template">

  <style>
  </style>


  <div class="tabContentScrollContainer">

      <h2>Jobs</h2>

      <table>
          <tr>
              <th></th>
              <th></th>
              <th></th>
          </tr>
          {{#each list}}
              <tr>
                  <td>
                      {{#if finished}}
                      <span class="icon icon-check"></span>
                      {{else}}
                      <span class="icon icon-loader"></span>
                      {{/if}}
                  </td>
                  <td>
                      {{#if op}}
                          <a class="button-small" onclick="gui.patchView.centerSelectOp('{{op.id}}');">
                      {{/if}}
                          {{type}}
                      {{#if op}}
                      </a>
                      {{/if}}
                  </td>
                  <td>
                      {{name}}
                  </td>
              </tr>
          {{/each}}
      </table>

  </div>
</script>

<script id="tab_keys" type="text/x-handlebars-template">
  <style></style>

  <div class="tabcontent-scroll padding" style="padding-top: 0;">

    <h2>Keyboard shortcuts</h2>
    {{#if showDownloadButton}}
      <span class="button-small" onclick="gui.keys.download()"><i
          class="icon icon-lock"
        ></i>
        Download Markdown</span>
    {{/if}}
    <table>
      {{#each keys}}
        {{#if group}}
          <tr>
            <td></td>
            <td></td>
            <td>
              <br /><br />
              <h2 style="text-transform:capitalize;">{{group}}</h2>
            </td>
          </tr>
        {{/if}}
        <tr>
          <td class="keyline" style="text-align: right;">
            {{#if options.cmdCtrl}}<code class="key">CMD</code> + {{/if}}
            {{#if options.shiftKey}}<code class="key">SHIFT</code> + {{/if}}
          </td>
          <td class="keyline">
            <code class="key">{{key}}</code>
            &nbsp;
          </td>
          <td class="keyline">{{title}}</td>
        </tr>
      {{/each}}
    </table>
  </div>
</script>

<script id="tab_keys_markdown" type="text/x-handlebars-template">


  # Keyboard Shortcuts *`[mod]` is your operating systems primary modifier key,
  on Mac OS X this is `[cmd]`, on Windows `[ctrl]`.*
  {{#each keys}}
    {{#if group}}

      ##
      {{toUpperCase group}}
    {{/if}}
    - `{{#if options.cmdCtrl}}[mod] + {{/if}}{{#if options.shiftKey}}shift +
    {{/if}}{{key}}`:
    {{title}}
  {{/each}}
</script>

<script id="tab_logging" type="text/x-handlebars-template">


  <style>
      .logShow
      {
          background-color: #006600;
      }
      .logHide
      {
          background-color: #660000;
      }
  </style>


  <div class="tabContentScrollContainer">


      <span class="button-small" onclick="CABLES.UI.logFilter.resetSettings()">Reset</span>

      <br/><br/>

      <table>
          <tr>
              <th></th>
              <th>Initiator Component</th>
              <th># </th>
          </tr>
          {{#each info}}
              <tr>
                  <td>
                      <span class="button-small {{#if print}}logShow{{else}}logHide{{/if}}" onclick="CABLES.UI.logFilter.toggleInitiator('{{initiator}}')">{{#if print}}visible{{else}}hidden{{/if}}</span>
                  </td>
                  <td>{{initiator}}</td>
                  <td>{{count}}</td>
              </tr>
          {{/each}}
      </table>

      <div id="loggingHtmlId" class="logList">

      </div>

  </div>
</script>

<script id="tab_manage_op" type="text/x-handlebars-template">

  <div class="tabContentScrollContainer tabManageOp">

      <br>
      {{#if opLayoutSvg}}
          {{{opLayoutSvg}}}
      {{else}}
          <img src="{{layoutUrl}}" style="margin-top:10px;">
      {{/if}}
      <br/>
      <h2>Op {{opDoc.shortName}}</h2>
      {{opname}}{{#if visibilityString}}<span class="visibilityString"> - {{{visibilityString}}}</span>{{/if}}

      {{#if opDoc.opDirFull}}
          <br/>
          <a class="link" onclick="CABLES.CMD.ELECTRON.openOpDir('{{opDoc.id}}', '{{opname}}')">{{opDoc.opDirFull}}</a>
      {{/if}}

      <br/>
      <div {{#if frontendOptions.editOpSummary}}onclick="CABLES.CMD.PATCH.editOpSummary('{{opDoc.id}}','{{opname}}', '{{summary}}');"{{/if}} class="summary selectable">
          <br/><b>{{summary}}</b>
      </div>
      <br/>

      <!-- <span class="button-small button-icon" onclick="gui.serverOps.edit('{{opname}}', {{readOnly}},null,true);">{{#if canEditOp}}<span class="icon icon-edit"></span>{{else}}<span class="icon icon-file"></span>{{/if}}</span> -->

      <a class="button-small" target="_blank" href="{{url}}/op/{{opname}}">Op Page / Documentation</a>

      <span class="button-small" onclick="gui.serverOps.cloneDialog('{{opname}}');">Clone op</span>
      {{#if canEditOp}}
          <a class="button-small" target="_blank" onclick="CABLES.CMD.OP.renameOp('{{opname}}')">Rename Op</a>
      {{/if}}

      {{#if canDeleteOp}}
          <a class="button-small button-delete" target="_blank" onclick="CABLES.CMD.PATCH.deleteOp('{{opname}}')">Delete Op</a>
      {{/if}}

      {{#if frontendOptions.showLocalOpDirButton}}
          <a class="button-small button-icon tt" data-tt="open folder" onclick="if (event.ctrlKey || event.metaKey) CABLES.CMD.ELECTRON.copyOpDirToClipboard('{{opDoc.id}}'); else CABLES.CMD.ELECTRON.openOpDir('{{opDoc.id}}', '{{opname}}');"><span class="icon icon-folder"></span></a>
      {{/if}}

      {{#if opDoc.hasPublicRepo}}
          <a class="button-small button-icon tt" href="{{url}}/op/{{opname}}/github" target="_blank"><span class="icon icon-github">open on github</span></a>
      {{/if}}

      <br/>
      <br/>

      {{#if warns}}
          <div class="groupSpacer"><h3>Warnings</h3></div>
          <div class="params">
              {{#each warns}}
                  <div class="warning-error warning-error-level1"><b>{{id}}</b> {{{text}}}</div>
                  <br/>
              {{/each}}
          </div>
      {{/if}}


      {{#if portJson}}
          <div class="groupSpacer"><h3>Ports</h3></div>

          {{#if subPatchSaved}}{{else}}
              <span class="error">Please save your subpatch to make changes to ports!</span>
          {{/if}}

          <table class="table" style="{{#if subPatchSaved}}{{else}}opacity:0.33;pointer-events:none;{{/if}}"">
              <tr>
                  <th>Inputs</th>
                  <th style="width:40%">Title</th>
                  <th>Attributes</th>
                  <th></th>
              </tr>
              {{#each portJson.ports}}

              {{#if divider}}
                  <tr>
                      <th>Outputs</th>
                      <th></th>
                      <th></th>
                      <th></th>
                  </tr>
              {{/if}}

              <tr>
                  <td>
                      &nbsp;&nbsp;&nbsp;
                      <span class="button-small button-icon" style="margin-right:0px;border-top-right-radius: 0;border-bottom-right-radius: 0;padding-left:5px;padding-right:2px;" id="{{../viewId}}_port_up_{{id}}"><span class="icon icon-chevron-up"></span></span><span class="button-small button-icon" style="margin-left:0px;border-top-left-radius: 0;border-bottom-left-radius: 0;padding-left:2px;padding-right:5px;" id="{{../viewId}}_port_down_{{id}}"><span class="icon icon-chevron-down"></span></span>
                      <span class="button-small button-icon" id="{{../viewId}}_port_title_{{id}}"><span class="icon icon-edit"></span></span>
                  </td>
                  <td>
                      <span class="portType_{{type}}_background">&nbsp;&nbsp;&nbsp;</span>&nbsp;
                      {{title}}
                  </td>
                  <td>
                      {{#if value}}
                          Default: {{value}}<br/>
                      {{/if}}

                      {{#if uiDisplay}}
                          Display: {{uiDisplay}}<br/>
                      {{/if}}
                      {{#if objType}}
                          Object Type: {{objType}}<br/>
                      {{/if}}
                      {{#if addUiAttribs}}
                          UiAttribs: {{json addUiAttribs}}<br/>
                      {{/if}}

                  </td>
                  <td>
                      <span class="button-small button-icon" id="{{../viewId}}_port_delete_{{id}}"><span class="icon icon-x"></span></span>
                  </td>
              </tr>

              {{/each}}
          </table>

          <a class="button" id="{{viewId}}_port_create"><span class="icon icon-plus-circle icon-1_25x"></span>Create Port</a>
          <br/><br/>
      {{/if}}

      {{#if portJson}}
      {{else}}
        <br/>
          <div class="groupSpacer"><h3>Files</h3></div>

          <table class="table">
              <tr>
                  <th>Filename</th>
                  <th>Type</th>
                  <th></th>
              </tr>
              <tr>
                  <td onclick="gui.serverOps.edit('{{opname}}', {{readOnly}},null,true);" style="cursor:pointer">
                      <a class="icon icon-edit iconhover" ></a>&nbsp;{{opname}}.js
                  </td>
                  <td>
                      Main Source File
                  </td>
                  <td></td>
              </tr>

              {{#if doc.attachmentFiles}}
                  {{#each doc.attachmentFiles}}
                      <tr>
                          <td onclick="gui.serverOps.editAttachment('{{../opname}}','{{original}}');" style="cursor:pointer">
                              <a class="icon icon-edit iconhover"></a>&nbsp; {{readable}}
                          </td>
                          <td>
                              Attachment
                          </td>
                          <td>
                              <a class="icon-x icon iconhover" style="text-align:right" onclick="gui.serverOps.deleteAttachment('{{../opname}}','{{../opid}}','{{original}}');"></a>
                          </td>
                      </tr>
                  {{/each}}
              {{/if}}
          </table>

          <a class="button" onclick="gui.serverOps.addAttachmentDialog('{{opname}}');"><span class="icon icon-plus-circle icon-1_25x"></span>Create Attachment</a>

          <br/><br/>

          {{#if hasDependencies}}
              <div class="groupSpacer"><h3>Dependencies</h3></div>
              <div class="opDependencyList">
                  <table class="table">
                      <tr>
                          <th>Name</th>
                          <th>Type</th>
                          <th> </th>
                      </tr>
                      {{#each opDoc.coreLibs}}
                          <tr>
                              <td>{{.}}</td>
                              <td>corelib</td>
                              <td>
                                  {{#if ../canEditOp}}
                                      <a class="icon icon-three-dots iconhover dependency-options" data-depsrc="{{.}}" data-deptype="corelib"></a>
                                  {{/if}}
                              </td>
                          </tr>
                      {{/each}}
                      {{#each opDoc.libs}}
                          <tr>
                              <td>{{.}}</td>
                              <td>lib</td>
                              <td>
                                  {{#if ../canEditOp}}
                                      <a class="icon icon-three-dots iconhover dependency-options" data-depsrc="{{.}}" data-deptype="lib"></a>
                                  {{/if}}
                              </td>
                          </tr>
                      {{/each}}
                      {{#each opDoc.dependencies}}
                          <tr>
                              <td>
                                  {{#compare type '==' 'npm'}}
                                      <a class="link" {{#if ../frontendOptions.isElectron}}target="_blank"{{/if}} href="https://www.npmjs.com/package/{{src}}">{{src}}</a>
                                  {{else}}
                                      {{#compare type '==' 'op'}}
                                          {{opName}}
                                      {{else}}
                                          {{src}}
                                      {{/compare}}
                                  {{/compare}}
                              </td>
                              <td>{{type}}{{#compare type '==' 'module' }} ({{export}}){{/compare}}</td>
                              <td>
                                  {{#if ../canEditOp}}
                                      <a class="icon icon-three-dots iconhover dependency-options" data-depsrc="{{src}}" data-deptype="{{type}}"></a>
                                  {{/if}}
                              </td>
                          </tr>
                      {{/each}}
                  </table>
              </div>
          {{/if}}

          {{#if canEditOp}}
              <div class="groupSpacer"><h3>Dependencies</h3></div>
              Add javascript libraries/modules to your op<br/><br/>
              <a class="button" onclick="ele.byId('{{viewId}}_dependencytabs').classList.toggle('hidden');this.classList.toggle('hidden')"><span class="icon icon-plus-circle icon-1_25x"></span>Add Dependencies</a>
              <div id="{{viewId}}_dependencytabs" class="dependencytabs hidden"></div>
          {{/if}}

      {{/if}}

      {{#if doc.changelog}}
          <br/><br/>
          <div class="groupSpacer"><h3>Changelog</h3></div>
          <table class="changelogtable" style="width:100%">
          {{#each doc.changelog}}
              <tr>
                  <td style="vertical-align: top">
                      <span style="font-size:11px">{{relativedate date}}</span>
                  </td>
                  <td style="vertical-align: top;font-size:11px ">
                      {{#if type}}
                          <span style="border-radius: 4px;text-transform: uppercase; background-color:#aaa;padding-left:4px;padding-right:4px;color:#000;" class="changelogtype-{{type}}">{{type}}</span>
                      {{/if}}
                  </td>
                  <td style="width:65%;;">
                      <span class="changelogText">- {{message}}</span>
                  </td>
              </tr>
          {{/each}}
          </table>
      {{/if}}
  </div>
</script>

<script id="tab_preferences" type="text/x-handlebars-template">
  <div
    class="tabcontent-scroll padding userPreferences"
    style="padding-top:0px;"
  >
    <h2>{{texts.title}}</h2>

    <style></style>

    <br /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2
        >{{texts.head_glpatch}}</h2></div></div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="linetype"
          data-value="curved"
        >Curved</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="linetype"
          data-value="straight"
        >Straight</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="linetype"
          data-value="simple"
        >Simple</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_glpatch_linetype}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="snapToGrid2"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="snapToGrid2"
          data-value="false"
        >Off</span>
      </div>

      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_snapToGrid}}</h3>
        {{texts.subtitle_snapToGrid}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="noFadeOutCables"
          data-value="false"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="noFadeOutCables"
          data-value="true"
        >Off</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_fadeOutCables}}</h3>
        {{texts.subtitle_fadeOutCables}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="canvasMode"
          data-value="default"
        >Default</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="canvasMode"
          data-value="patchbg"
        >Background</span>
      </div>

      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_canvaspos}}</h3>
        {{texts.subtitle_canvaspos}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="fontSizeOff"
          data-value="-2"
        >-2</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="fontSizeOff"
          data-value="-1"
        >-1</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="fontSizeOff"
          data-value="0"
        >Default</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="fontSizeOff"
          data-value="1"
        >+1</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="fontSizeOff"
          data-value="2"
        >+2</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="fontSizeOff"
          data-value="3"
        >+3</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="fontSizeOff"
          data-value="4"
        >+4</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_fontsize}}</h3>
        {{texts.subtitle_fontsize}}
      </div>
    </div>

    <br /><hr /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2>ACE Text
          Editor</h2></div></div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <input
          class="numberinput valinput"
          data-setting="fontsize_ace"
          value="12"
        />
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_fontsize_ace}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="wrapmode_ace"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="wrapmode_ace"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_wrapmode_ace}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="formatcode"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="formatcode"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_formatcode}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="ace_keymode"
          data-value=""
        >Default</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="ace_keymode"
          data-value="ace/keyboard/vim"
        >Vim</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_ace_keymode}}
      </div>
    </div>

    <br /><hr /><br />

    <div class="row">
      <div class="row"><div class="title cute-7-phone cute-5-offset"><h2>Ui
            Elements</h2></div></div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="hideCanvasUi"
          data-value="true"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="hideCanvasUi"
          data-value="false"
        >On</span>
      </div>

      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_hideCanvasUi}}</h3>
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="hideSizeBar"
          data-value="true"
        >Hide</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="hideSizeBar"
          data-value="false"
        >Show</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_hideSizeBar}}</h3>
        {{texts.subtitle_hideSizeBar}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="bgpreview"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="bgpreview"
          data-value="false"
        >Off</span>

        <br /><br />

        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="texpreviewMode"
          data-value=""
        >mouse hover tooltip</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="texpreviewMode"
          data-value="corner"
        >Always in corner</span>

        <br /><br />

        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="texpreviewTransparent"
          data-value="false"
        >Opaque</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="texpreviewTransparent"
          data-value="true"
        >Transparent</span>

      </div>

      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_texpreviewSize}}</h3>
        {{texts.subtitle_texpreviewSize}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="bgpattern"
          data-value="bgPatternDark"
        >Dark</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="bgpattern"
          data-value="bgPatternBright"
        >Bright</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="bgpattern"
          data-value="bgPatternBlack"
        >0</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="bgpattern"
          data-value="bgPatternGrey"
        >0.5</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="bgpattern"
          data-value="bgPatternWhite"
        >1</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="bgpattern"
          data-value="bgPatternRed"
        >R</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="bgpattern"
          data-value="bgPatternBlue"
        >B</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_bgpattern}}</h3>
        {{texts.subtitle_bgpattern}}
      </div>

    </div>

    <br /><hr /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2
        >Input</h2></div></div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="quickLinkLongPress"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="quickLinkLongPress"
          data-value="false"
        >Off</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_quickLinkLongPress}}</h3>
        {{texts.subtitle_quickLinkLongPress}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="quickLinkMiddleMouse"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="quickLinkMiddleMouse"
          data-value="false"
        >Off</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_quickLinkMiddleMouse}}</h3>
        {{texts.subtitle_quickLinkMiddleMouse}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="doubleClickAction"
          data-value="parentSub"
        >Parent Subpatch</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="doubleClickAction"
          data-value="addOp"
        >Add Op</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="doubleClickAction"
          data-value="centerPatch"
        >Center Patch</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_doubleClickAction}}</h3>
        {{texts.subtitle_doubleClickAction}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="patch_button_scroll"
          data-value="1"
        >Left</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="patch_button_scroll"
          data-value="4"
        >Middle</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="patch_button_scroll"
          data-value="2"
        >Right</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_scroll_button}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="patch_allowCableDrag"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="patch_allowCableDrag"
          data-value="false"
        >Off</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_allow_cable_drag}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="patch_wheelmode"
          data-value="zoom"
        >Zoom</span>
        <span
          class="prefswitch switch switch-text switch-middle"
          data-setting="patch_wheelmode"
          data-value="pan"
        >Pan</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="patch_wheelmode"
          data-value="auto"
        >Auto</span>
      </div>
      <div class="cute-5-phone left prefRight">
        <h3>Scroll Method</h3>
        {{{texts.subtitle_wheelmode}}}
      </div>
    </div>
    <div class="row">
      <div class="cute-5-phone prefLeft">
        <input
          class="numberinput valinput"
          data-setting="wheelmultiplier"
          value="1"
        />
      </div>
      <div class="cute-7-phone prefRight">
        {{texts.subtitle_wheelmultiplier}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <input
          class="numberinput valinput"
          data-setting="patch_panspeed"
          value="0.25"
        />
      </div>
      <div class="cute-7-phone prefRight">
        {{texts.subtitle_panspeed}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <input class="valinput" data-setting="keybind_escape" value="Escape" />
      </div>
      <div class="cute-7-phone prefRight">
        {{texts.subtitle_keybind_escape}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="escape_closetabs"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="escape_closetabs"
          data-value="false"
        >Off</span>
      </div>
      <div class="cute-7-phone prefRight">
        {{texts.subtitle_escape_closetabs}}
      </div>
    </div>

    <br /><hr /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2
        >Misc</h2></div></div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="idlemode"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="idlemode"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_idlemode}}</h3>
        {{texts.subtitle_idlemode}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="showTipps"
          data-value="true"
        >Show</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="showTipps"
          data-value="false"
        >Hide</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_tipps}}</h3>
        {{texts.subtitle_tipps}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="presentationmode"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="presentationmode"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_presentationmode}}</h3>
        {{texts.subtitle_presentationmode}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="nobrowserWarning"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="nobrowserWarning"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_nobrowserWarning}}</h3>
        {{texts.subtitle_nobrowserWarning}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="introCompleted"
          data-value="true"
        >Hide</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="introCompleted"
          data-value="false"
        >Show Again</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_introCompleted}}</h3>
        {{texts.subtitle_introCompleted}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="randomizePatchName"
          data-value="false"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="randomizePatchName"
          data-value="true"
        >On</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_randomizePatchName}}</h3>
        {{texts.subtitle_randomizePatchName}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="helperMode"
          data-value="true"
        >Show</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="helperMode"
          data-value="false"
        >Hide</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_helperMode}}</h3>
        {{texts.subtitle_helperMode}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="notlocalizeNumberformat"
          data-value="true"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="notlocalizeNumberformat"
          data-value="false"
        >On</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_notlocalizeNumberformat}}</h3>
        {{texts.subtitle_notlocalizeNumberformat}}
      </div>
    </div>

    {{#if frontendOptions.isElectron}}
      <br /><hr /><br />

      <div class="row"><div class="title cute-7-phone cute-5-offset"><h2
          >Standalone</h2></div></div>

      <div class="row">
        <div class="cute-5-phone prefLeft">
          <span
            class="prefswitch switch switch-text switch-left"
            data-setting="openlastproject"
            data-value="false"
          >Off</span>
          <span
            class="prefswitch switch switch-text switch-right"
            data-setting="openlastproject"
            data-value="true"
          >On</span>
        </div>
        <div class="cute-7-phone prefRight">
          <h3>{{texts.title_openlastproject}}</h3>
          {{texts.subtitle_openlastproject}}
        </div>
      </div>
      <div class="row">
        <div class="cute-5-phone prefLeft">
          <span
            class="prefswitch switch switch-text switch-left"
            data-setting="openfullscreen"
            data-value="false"
          >Off</span>
          <span
            class="prefswitch switch switch-text switch-right"
            data-setting="openfullscreen"
            data-value="true"
          >On</span>
        </div>
        <div class="cute-7-phone prefRight">
          <h3>{{texts.title_openfullscreen}}</h3>
          {{texts.subtitle_openfullscreen}}
        </div>
      </div>
      <div class="row">
        <div class="cute-5-phone prefLeft">
          <span
            class="prefswitch switch switch-text switch-left"
            data-setting="maximizerenderer"
            data-value="false"
          >Off</span>
          <span
            class="prefswitch switch switch-text switch-right"
            data-setting="maximizerenderer"
            data-value="true"
          >On</span>
        </div>
        <div class="cute-7-phone prefRight">
          <h3>{{texts.title_maximizerenderer}}</h3>
          {{texts.subtitle_maximizerenderer}}
        </div>
      </div>
      <div class="row">
        <div class="cute-5-phone prefLeft">
          <input class="valinput" data-setting="authorName" value="" />
        </div>
        <div class="cute-7-phone prefRight">
          <h3>{{texts.title_authorName}}</h3>
          {{texts.subtitle_authorName}}
        </div>
      </div>
      <div class="row">
        <div class="cute-5-phone prefLeft">
          <span id="usersetting_downloadPath"><span
              class="icon icon-folder"
            ></span>
            <span class="value"></span></span>
          <input
            type="text"
            class="valinput hidden"
            data-setting="downloadPath"
            value=""
          />
        </div>
        <div class="cute-7-phone prefRight">
          <h3>{{texts.title_downloadPath}}</h3>
          {{texts.subtitle_downloadPath}}
        </div>
      </div>
    {{/if}}

    <br /><hr /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2
        >Advanced</h2></div></div>

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="devinfos"
          data-value="true"
        >On</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="devinfos"
          data-value="false"
        >Off</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_devinfos}}</h3>
        {{texts.subtitle_devinfos}}
      </div>
    </div>

    <!-- <div class="row">
        <div class="cute-5-phone prefLeft">
            <span class="prefswitch switch switch-text switch-left" data-setting="forceWebGl1" data-value="true">On</span>
            <span class="prefswitch switch switch-text switch-right" data-setting="forceWebGl1" data-value="false">Off</span>
        </div>
        <div class="cute-7-phone prefRight">
            <h3>{{texts.title_forceWebGl1}}</h3>
            {{texts.subtitle_forceWebGl1}}
        </div>
    </div> -->

    <div class="row">
      <div class="cute-5-phone prefLeft">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="miniopselect"
          data-value="true"
        >Minimal</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="miniopselect"
          data-value="false"
        >Full</span>
      </div>
      <div class="cute-7-phone prefRight">
        <h3>{{texts.title_miniopselect}}</h3>
        {{texts.subtitle_miniopselect}}
      </div>
    </div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <span
          class="prefswitch switch switch-text switch-left"
          data-setting="glpatch_cursor"
          data-value="true"
        >Off</span>
        <span
          class="prefswitch switch switch-text switch-right"
          data-setting="glpatch_cursor"
          data-value="false"
        >On</span>
      </div>
      <div class="cute-5-phone left">
        {{texts.subtitle_glpatch_cursor}}
      </div>
    </div>

    <br /><hr /><br />

    <div class="row"><div class="title cute-7-phone cute-5-offset"><h2>Reset
          preferences</h2></div></div>

    <div class="row">
      <div class="cute-5-phone text-right">
        <input class="button" value="Reset preferences" id="resetPrefs" />
      </div>
      <div class="cute-5-phone left">
        resetting or changing some settings need a reload of the editor!
      </div>
    </div>

    <br /><br /><br /><br /><br /><br />

  </div>
</script>

<script id="tabpanel_bar" type="text/x-handlebars-template">

  <div class="tabs" style="position:relative;">


      {{#each tabs}}
          <div class="tabcontainer">
              <div id="editortab{{id}}" data-id="{{id}}" class="tab {{#if options.wasChanged}} unsaved {{/if}} {{#if options.closable}} closable {{/if}} {{#if active}} active {{/if}}{{#if options.infotext}} info {{/if}}" style="{{#if options.showTitle}}{{else}} min-width:19px !important;max-width:19px !important;padding-left: 10px; {{/if}}" {{#if options.infotext}} data-info="{{options.infotext}}"{{/if}}>
                  {{#if icon }} <span class="tabicon icon-{{icon}} icon fleft"></span> &nbsp;{{/if}}
                  {{#if icon }}{{else}}{{#if options.type }}{{else}} <span class="tabicon icon-file icon fleft"></span> &nbsp;{{/if}}{{/if}}

                  {{#compare options.type '==' 'glsl' }}<span class="fileTypeColor_gl">GL</span>&nbsp; {{/compare}}
                  {{#compare options.type '==' 'js' }}<span class="fileTypeColor_js">JS</span>&nbsp; {{/compare}}
                  {{#compare options.type '==' 'css' }}<span class="fileTypeColor_css">CSS</span>&nbsp; {{/compare}}

                  {{#if options.showTitle }}{{title}}{{/if}}
                  {{#if unsaved }} ! {{/if}}
              </div>
          </div>
      {{/each}}
      <div style="clear:both;"></div>
  </div>

  <div id="editortabList{{id}}" style="display:none;position: absolute;z-index: 99;width: 30px;height: 34px;left: 0px;top: 0px;background-color:var(--color-02);cursor:pointer;">
      <div class="tt icon icon-menu" style="margin-top:10px;margin:7px;margin-right:12px;" onclick="" data-tt=""></div>
  </div>
</script>

<script id="tabpanel_toolbar" type="text/x-handlebars-template">
  <div class="tabtoolbar" id="toolbarContent{{id}}" style="float:left;"></div>

  {{#if options.closable}}
    <button
      tabindex="0"
      onkeypress="ele.keyClick(event,this)"
      id="closetab{{id}}"
      data-id="{{id}}"
      class="icon-x icon icon-1_5x fright iconhover closetabx"
    ></button>
  {{/if}}
  <div style="clear:both;"></div>
</script>

<script id="uiperformance" type="text/x-handlebars-template">


  <table class="table">
      <tr>
          <th>name</th>
          <th>count</th>
          <th>last</th>
          <th>avg</th>
      </tr>

      {{#each measures}}
          <tr onclick="gui.uiProfiler.highlight('{{name}}')" class="{{#if highlight}}highlighted{{/if}}" >
              <td class="{{color}}">{{name}}</td>
              <td class="{{color}}">{{count}}</td>
              <td class="{{color}}">{{last}}</td>
              <td class="{{color}}">{{avg}}</td>
          </tr>
      {{/each}}
  </table>
</script>

<script id="tab_welcome" type="text/x-handlebars-template">

  <h2>welcome to cables</h2>
  {{version}} <span id="platformaltversion"></span>

  <br><br>

  <a class="icon-button button" onclick="CABLESUILOADER.talkerAPI.send('newPatch');"><span class=" icon-file-plus icon-2x icon"></span>New patch</a>
  <a class="icon-button button" onclick="CABLESUILOADER.talkerAPI.send('gotoPatch');"><span class=" icon-file icon-2x icon"></span>Open patch</a>
  <a class="icon-button button" href="https://cables.gl" target="_blank"><span class=" icon-cables icon-2x icon"></span>cables.gl </a>

  <hr>

  {{#if patches}}
      <h3>Recent Patches</h3>

      <div style="clear:both" class="item_manager">
          {{#each patches}}

              <div style="float:left;cursor:pointer;" class="item item-container text-center" onclick="CABLESUILOADER.talkerAPI.send('gotoPatch', { 'id': '{{shortId}}' });">
                  <img src="{{../url}}{{thumbnail}}" style="width:99px;"/>
                  <br/>
                  {{name}}
              </div>

          {{/each}}
      </div>
      <div style="clear:both"></div>

      <hr>

  {{/if}}

  <h3>Help</h3>

  <a href="https://cables.gl/docs" target="_blank" class="button">Documentation</a>
  <br>
  <a href="https://cables.gl/docs" target="_blank" class="button">Video tutorials</a>
  <br>
  <a href="https://cables.gl/docs" target="_blank" class="button">Github discussions and issues</a>
  <br>
  <a href="https://discord.gg/cablesgl" target="_blank" class="button">Join cables discord community</a>

  <hr>

  <h3>Events</h3>

  <div id="welcome_events">loading...</div>
</script>

<script id="tab_welcome_events" type="text/x-handlebars-template">
  {{#each events}}

    <a
      href="{{link}}"
      target="_blank"
      style="background-color: var(--color-05);display:block;padding:10px;border-radius: 5px;margin:5px;"
    >
      <h3 class="nomargin">{{title}}</h3>
      {{displaydateNoTime eventdate}}
    </a>
  {{/each}}
</script>


        <div class="cablesCssUi">
            <a id="undev" data-info="undevLogo" class="icon-undev info" target="_blank" href="http://www.undev.de"></a>
        </div>
    </div>
</body>
<script>
    "use strict";
    var CABLESUILOADER = CABLESUILOADER || {};

    CABLESUILOADER.GlobalVarTester = (function ()
    {
        var fields = {};
        var before = function (w)
        {
            for (var field in w)
                fields[field] = true;
        };

        var after = function (w)
        {
            for (var field in w)
                if (!fields[field])
                    console.log(field + " has been added");
        };
        return {
            before: before,
            after: after
        };
    }());

    CABLESUILOADER.preload = {};
    CABLESUILOADER.GlobalVarTester.before(window);

    CABLESUILOADER.uiLoadStart = performance.now();
    CABLESUILOADER.startup = {};
    CABLESUILOADER.startup.log = [];
    CABLESUILOADER.startup.maxEvents = 15 - 1;
    CABLESUILOADER.startup.numEvents = 0;

    CABLESUILOADER.buildInfo = {};

    function incrementStartup()
    {
        CABLESUILOADER.startup.numEvents++;
        // if(CABLESUILOADER.startup.numEvents>CABLESUILOADER.startup.maxEvents)console.warn("too many cables startup events!",CABLESUILOADER.startup.numEvents,CABLESUILOADER.startup.maxEvents)
        const loadingBarEle = document.getElementById("loadingstatusBar");
        if (loadingBarEle) loadingBarEle.style.width = (CABLESUILOADER.startup.numEvents / CABLESUILOADER.startup.maxEvents) * 100 + "%";
    }

    function logStartup(title)
    {
        if(window.gui && gui.finishedLoading()) return;

        const timeUsed = Math.round((performance.now() - CABLESUILOADER.uiLoadStart) / 1000 * 100) / 100;

        CABLESUILOADER.startup.log.push(
            {
                "title": title,
                "time": timeUsed
            });

        if (!window.CABLES || !CABLES.platform || !CABLES.platform.isDevEnv()) return;
        document.getElementById("loadingstatusLog").innerHTML += title + " (" + timeUsed + ") <br/>";
    }

    CABLESUILOADER.noCacheUrl = function (url)
    {
        if(window.CABLES && CABLES.platform) return CABLES.platform.noCacheUrl(url);
        return url;
    };

    CABLESUILOADER.builtVersionUrl = function (component, url)
    {
        let ncUrl = CABLESUILOADER.noCacheUrl(url);
        if (CABLESUILOADER.buildInfo)
        {
            if (CABLESUILOADER.buildInfo[component])
            {
                ncUrl = url;// + "?nc=" + CABLESUILOADER.buildInfo[component].timestamp;
            }
        }
        return ncUrl;
    };

    incrementStartup();
    if (window.logStartup) logStartup("start ui");

    CABLESUILOADER.loadAll = function (cfg)
    {
        CABLESUILOADER.cfg = cfg;
        if (!window.hasOwnProperty("loadjs"))
        {
            setTimeout(CABLESUILOADER.loadAll, 100);
            console.log("wait for loadjs...");
            return;
        }

        logStartup("loaded minimum libs / starting up...");

        incrementStartup();
        loadjs([CABLESUILOADER.builtVersionUrl("core", "js/cables.js")], "cables_core");

        loadjs.ready("cables_core", function ()
        {
            logStartup("loaded cables core");
            incrementStartup();

            loadjs([CABLESUILOADER.builtVersionUrl("ui", "js/cables-ui.js")], "cablesuinew");

            loadjs.ready("cablesuinew", function ()
            {
                let platformClass = "PlatformCommunity";
                if(cfg && cfg.platformClass) {
                    if(CABLES.hasOwnProperty(cfg.platformClass)) {
                        platformClass = cfg.platformClass;
                        console.info("using sandbox from", platformClass);
                    }else{
                        console.error("could not find class for sandbox", cfg.platformClass, "using", platformClass);
                    }

                }
                CABLES.platform = new CABLES[platformClass](cfg);

                incrementStartup();
                logStartup("loaded ui");

                CABLESUILOADER.talkerAPI.send("getOpDocsAll", { "projectId": cfg.patchId }, (err, _data) =>
                {

                    if (err)
                    {
                        console.error("preloading error", err);
                    }
                    else
                    {
                        CABLESUILOADER.preload.opDocsAll = _data;
                    }
                }, (response) =>
                {
                    console.error("preloading error", response);
                });

                loadjs([CABLESUILOADER.noCacheUrl(CABLES.platform.getUrlOpsCode()), CABLESUILOADER.noCacheUrl(CABLES.platform.getUrlProjectOpsCode(cfg.patchId))], 'all_ops', { "before": (path, scriptEl) => { scriptEl.setAttribute("crossorigin", "use-credentials"); } });
                loadjs.ready('all_ops', () =>
                {
                    incrementStartup();
                    logStartup('loaded cables ops');

                    waitForAce();
                });
            });
        });
    };

    function waitForAce()
    {
        if (!CABLESUILOADER.preload.opDocsAll)
        {
            setTimeout(waitForAce, 100);
        }
        else
        {
            CABLESUILOADER.uiLoadFiles = performance.now() - CABLESUILOADER.uiLoadStart;

            CABLES.UI.startUi(CABLESUILOADER.cfg);
        }
    }

    document.addEventListener("DOMContentLoaded", function (event)
    {
        CABLESUILOADER.talkerAPI = new CABLESUILOADER.TalkerAPI(window.parent);

        const reqTimeout=setTimeout(()=>
        {
            document.getElementById("loadingstatus").style.display="none";
            document.getElementById("loadingstatusLog").innerHTML += "error: could not get response from talker api. editor not in iframe? <br/>";
        },1000);

        CABLESUILOADER.talkerAPI.send("requestPatchData", {}, function (response)
        {
            clearTimeout(reqTimeout);

            if (response.buildInfo)
            {
                CABLESUILOADER.buildInfo = response.buildInfo;
            }
            CABLESUILOADER.loadAll(response);
        });
    });

    if (!(function () { return !this; })()) console.log("not in strict mode: footer html");

</script>

<div class="preloading" style="font-family:SourceSansPro"></div>

<div id="testcontent"></div>

</html>
